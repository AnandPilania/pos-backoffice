{"ast":null,"code":"import _classCallCheck from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from'react-dom';import{themeColorStorageKey,themeRadiusStorageKey}from'../../constants/defaultValues';import{FormGroup,Label,CustomInput}from'reactstrap';var ColorSwitcher=/*#__PURE__*/function(_Component){_inherits(ColorSwitcher,_Component);var _super=_createSuper(ColorSwitcher);function ColorSwitcher(props){var _this;_classCallCheck(this,ColorSwitcher);_this=_super.call(this);_this.getContainer=function(){return ReactDOM.findDOMNode(_assertThisInitialized(_this));};_this.toggle=function(e){e.preventDefault();var isOpen=_this.state.isOpen;if(!isOpen){_this.addEvents();}else{_this.removeEvents();}_this.setState({isOpen:!isOpen});};_this.changeThemeColor=function(e,color){e.preventDefault();localStorage.setItem(themeColorStorageKey,color);_this.toggle(e);setTimeout(function(){window.location.reload();},500);};_this.addEvents=function(){['click','touchstart'].forEach(function(event){return document.addEventListener(event,_this.handleDocumentClick,true);});};_this.removeEvents=function(){['click','touchstart'].forEach(function(event){return document.removeEventListener(event,_this.handleDocumentClick,true);});};_this.handleDocumentClick=function(e){var container=_this.getContainer();if(container.contains(e.target)||container===e.target){return;}_this.toggle(e);};_this.changeRadius=function(radius){if(radius==='flat'){document.body.classList.remove('rounded');}else{document.body.classList.add('rounded');}_this.setState({radius});localStorage.setItem(themeRadiusStorageKey,radius);};_this.state={isOpen:false,selectedColor:localStorage.getItem(themeColorStorageKey),radius:localStorage.getItem(themeRadiusStorageKey)||'rounded'};_this.removeEvents();return _this;}_createClass(ColorSwitcher,[{key:\"componentDidMount\",value:function componentDidMount(){this.changeRadius(this.state.radius);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,selectedColor=_this$state.selectedColor,radius=_this$state.radius;return/*#__PURE__*/React.createElement(\"div\",{className:\"theme-colors \".concat(this.state.isOpen?'shown':'')},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted mb-2\"},\"Light Theme\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-between mb-4\"},['purple','blue','green','orange','red'].map(function(color){return/*#__PURE__*/React.createElement(\"a\",{key:\"light.\".concat(color),href:\"#light.\".concat(color),className:\"theme-color theme-color-\".concat(color,\" \").concat(selectedColor===\"light.\".concat(color)?'active':''),onClick:function onClick(e){return _this2.changeThemeColor(e,\"light.\".concat(color));}},/*#__PURE__*/React.createElement(\"span\",null,\"`light.$\",color,\"`\"));})),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted mb-2\"},\"Dark Theme\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-between\"},['purple','blue','green','orange','red'].map(function(color){return/*#__PURE__*/React.createElement(\"a\",{key:\"dark.\".concat(color),href:\"#dark.\".concat(color),className:\"theme-color theme-color-\".concat(color,\" \").concat(selectedColor===\"dark.\".concat(color)?'active':''),onClick:function onClick(e){return _this2.changeThemeColor(e,\"dark.\".concat(color));}},/*#__PURE__*/React.createElement(\"span\",null,\"`dark.$\",color,\"`\"));}))),/*#__PURE__*/React.createElement(\"div\",{className:\" pb-0 pl-4 pt-4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"radiusRadio\"},\"Border Radius \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomInput,{type:\"radio\",name:\"radiusRadio\",id:\"rounded\",label:\"Rounded\",inline:true,defaultChecked:radius==='rounded',onChange:function onChange(){return _this2.changeRadius('rounded');}}),/*#__PURE__*/React.createElement(CustomInput,{type:\"radio\",name:\"radiusRadio\",id:\"flat\",label:\"Flat\",inline:true,defaultChecked:radius==='flat',onChange:function onChange(){return _this2.changeRadius('flat');}})))),/*#__PURE__*/React.createElement(\"a\",{href:\"#section\",className:\"theme-button\",onClick:this.toggle},' ',/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-magic-wand\"}),' '));}}]);return ColorSwitcher;}(Component);export default ColorSwitcher;","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/components/common/ColorSwitcher.js"],"names":["React","Component","ReactDOM","themeColorStorageKey","themeRadiusStorageKey","FormGroup","Label","CustomInput","ColorSwitcher","props","getContainer","findDOMNode","toggle","e","preventDefault","isOpen","state","addEvents","removeEvents","setState","changeThemeColor","color","localStorage","setItem","setTimeout","window","location","reload","forEach","event","document","addEventListener","handleDocumentClick","removeEventListener","container","contains","target","changeRadius","radius","body","classList","remove","add","selectedColor","getItem","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {\r\n  themeColorStorageKey,\r\n  themeRadiusStorageKey\r\n} from '../../constants/defaultValues';\r\nimport { FormGroup, Label, CustomInput } from 'reactstrap';\r\nclass ColorSwitcher extends Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      selectedColor: localStorage.getItem(themeColorStorageKey),\r\n      radius: localStorage.getItem(themeRadiusStorageKey) || 'rounded'\r\n    };\r\n    this.removeEvents();\r\n  }\r\n\r\n  getContainer = () => {\r\n    return ReactDOM.findDOMNode(this);\r\n  };\r\n\r\n  toggle = e => {\r\n    e.preventDefault();\r\n    const isOpen = this.state.isOpen;\r\n    if (!isOpen) {\r\n      this.addEvents();\r\n    } else {\r\n      this.removeEvents();\r\n    }\r\n    this.setState({\r\n      isOpen: !isOpen\r\n    });\r\n  };\r\n  changeThemeColor = (e, color) => {\r\n    e.preventDefault();\r\n    localStorage.setItem(themeColorStorageKey, color);\r\n    this.toggle(e);\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 500);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.changeRadius(this.state.radius);\r\n  }\r\n\r\n  addEvents = () => {\r\n    ['click', 'touchstart'].forEach(event =>\r\n      document.addEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n  removeEvents = () => {\r\n    ['click', 'touchstart'].forEach(event =>\r\n      document.removeEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n\r\n  handleDocumentClick = e => {\r\n    const container = this.getContainer();\r\n    if (container.contains(e.target) || container === e.target) {\r\n      return;\r\n    }\r\n    this.toggle(e);\r\n  };\r\n  changeRadius = radius => {\r\n    if (radius === 'flat') {\r\n      document.body.classList.remove('rounded');\r\n    } else {\r\n      document.body.classList.add('rounded');\r\n    }\r\n    this.setState({\r\n      radius\r\n    });\r\n    localStorage.setItem(themeRadiusStorageKey, radius);\r\n  };\r\n\r\n  render() {\r\n    const { selectedColor, radius } = this.state;\r\n    return (\r\n      <div className={`theme-colors ${this.state.isOpen ? 'shown' : ''}`}>\r\n        <div className=\"p-4\">\r\n          <p className=\"text-muted mb-2\">Light Theme</p>\r\n          <div className=\"d-flex flex-row justify-content-between mb-4\">\r\n            {['purple', 'blue', 'green', 'orange', 'red'].map(color => (\r\n              <a\r\n                key={`light.${color}`}\r\n                href={`#light.${color}`}\r\n                className={`theme-color theme-color-${color} ${\r\n                  selectedColor === `light.${color}` ? 'active' : ''\r\n                }`}\r\n                onClick={e => this.changeThemeColor(e, `light.${color}`)}\r\n              >\r\n                <span>`light.${color}`</span>\r\n              </a>\r\n            ))}\r\n          </div>\r\n          <p className=\"text-muted mb-2\">Dark Theme</p>\r\n          <div className=\"d-flex flex-row justify-content-between\">\r\n            {['purple', 'blue', 'green', 'orange', 'red'].map(color => (\r\n              <a\r\n                key={`dark.${color}`}\r\n                href={`#dark.${color}`}\r\n                className={`theme-color theme-color-${color} ${\r\n                  selectedColor === `dark.${color}` ? 'active' : ''\r\n                }`}\r\n                onClick={e => this.changeThemeColor(e, `dark.${color}`)}\r\n              >\r\n                <span>`dark.${color}`</span>\r\n              </a>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\" pb-0 pl-4 pt-4\">\r\n          <FormGroup>\r\n            <Label for=\"radiusRadio\">Border Radius </Label>\r\n            <div>\r\n              <CustomInput\r\n                type=\"radio\"\r\n                name=\"radiusRadio\"\r\n                id=\"rounded\"\r\n                label=\"Rounded\"\r\n                inline\r\n                defaultChecked={radius === 'rounded'}\r\n                onChange={() => this.changeRadius('rounded')}\r\n              />\r\n              <CustomInput\r\n                type=\"radio\"\r\n                name=\"radiusRadio\"\r\n                id=\"flat\"\r\n                label=\"Flat\"\r\n                inline\r\n                defaultChecked={radius === 'flat'}\r\n                onChange={() => this.changeRadius('flat')}\r\n              />\r\n            </div>\r\n          </FormGroup>\r\n        </div>\r\n\r\n        <a href=\"#section\" className=\"theme-button\" onClick={this.toggle}>\r\n          {' '}\r\n          <i className=\"simple-icon-magic-wand\" />{' '}\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorSwitcher;\r\n"]},"metadata":{},"sourceType":"module"}