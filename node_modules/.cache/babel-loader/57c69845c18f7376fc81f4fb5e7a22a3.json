{"ast":null,"code":"import _objectSpread from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { LOGIN_USER, LOGIN_USER_SUCCESS, LOGIN_USER_ERROR, REGISTER_USER, REGISTER_USER_SUCCESS, REGISTER_USER_ERROR, LOGOUT_USER, FORGOT_PASSWORD, FORGOT_PASSWORD_SUCCESS, FORGOT_PASSWORD_ERROR, RESET_PASSWORD, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_ERROR } from '../actions';\nvar INIT_STATE = {\n  token: localStorage.getItem('_fs_utk'),\n  user: '',\n  forgotUserMail: '',\n  newPassword: '',\n  resetPasswordCode: '',\n  loading: false,\n  error: ''\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN_USER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case LOGIN_USER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: action.payload.token,\n        user: action.payload.user,\n        error: ''\n      });\n\n    case LOGIN_USER_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: '',\n        error: action.payload\n      });\n\n    case FORGOT_PASSWORD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case FORGOT_PASSWORD_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        forgotUserMail: action.payload,\n        error: ''\n      });\n\n    case FORGOT_PASSWORD_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        forgotUserMail: '',\n        error: action.payload.message\n      });\n\n    case RESET_PASSWORD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case RESET_PASSWORD_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        newPassword: action.payload,\n        resetPasswordCode: '',\n        error: ''\n      });\n\n    case RESET_PASSWORD_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        newPassword: '',\n        resetPasswordCode: '',\n        error: action.payload.message\n      });\n\n    case REGISTER_USER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case REGISTER_USER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: action.payload.uid,\n        error: ''\n      });\n\n    case REGISTER_USER_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: '',\n        error: action.payload.message\n      });\n\n    case LOGOUT_USER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: null,\n        error: ''\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n});","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/auth/reducer.js"],"names":["LOGIN_USER","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","REGISTER_USER","REGISTER_USER_SUCCESS","REGISTER_USER_ERROR","LOGOUT_USER","FORGOT_PASSWORD","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_ERROR","RESET_PASSWORD","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_ERROR","INIT_STATE","token","localStorage","getItem","user","forgotUserMail","newPassword","resetPasswordCode","loading","error","state","action","type","payload","message","uid"],"mappings":"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","sourcesContent":["import {\r\n    LOGIN_USER,\r\n    LOGIN_USER_SUCCESS,\r\n    LOGIN_USER_ERROR,\r\n    REGISTER_USER,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_ERROR,\r\n    LOGOUT_USER,\r\n    FORGOT_PASSWORD,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_ERROR,\r\n    RESET_PASSWORD,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_ERROR\r\n} from '../actions';\r\n\r\nconst INIT_STATE = {\r\n    token: localStorage.getItem('_fs_utk'),\r\n    user: '',\r\n    forgotUserMail: '',\r\n    newPassword: '',\r\n    resetPasswordCode: '',\r\n    loading: false,\r\n    error: ''\r\n};\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n    switch (action.type) {\r\n        case LOGIN_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case LOGIN_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.token, user: action.payload.user, error: '' };\r\n        case LOGIN_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload };\r\n        case FORGOT_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case FORGOT_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, forgotUserMail: action.payload, error: '' };\r\n        case FORGOT_PASSWORD_ERROR:\r\n            return { ...state, loading: false, forgotUserMail: '', error: action.payload.message };\r\n        case RESET_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case RESET_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, newPassword: action.payload, resetPasswordCode: '', error: '' };\r\n        case RESET_PASSWORD_ERROR:\r\n            return { ...state, loading: false, newPassword: '', resetPasswordCode: '', error: action.payload.message };\r\n        case REGISTER_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case REGISTER_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.uid, error: '' };\r\n        case REGISTER_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload.message };\r\n        case LOGOUT_USER:\r\n            return { ...state, token: null, error: '' };\r\n        default: return { ...state };\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}