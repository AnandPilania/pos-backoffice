{"ast":null,"code":"import _classCallCheck from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/my-site/menu-app/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Row, Input, Button } from \"reactstrap\";\nimport Select from \"react-select\";\nimport ImageUploader from \"react-images-upload\";\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport ColorPicker from \"../../../components/common/ColorPicker\";\nimport { connect } from \"react-redux\";\nimport { updateMenuAppColor, updateMenuAppLogo } from \"../../../redux/actions\";\nimport { mediaPath } from \"../../../constants/defaultValues\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\n\nvar MenuAppSettings = /*#__PURE__*/function (_Component) {\n  _inherits(MenuAppSettings, _Component);\n\n  var _super = _createSuper(MenuAppSettings);\n\n  function MenuAppSettings(props) {\n    var _this;\n\n    _classCallCheck(this, MenuAppSettings);\n\n    _this = _super.call(this, props);\n\n    _this.handleColorChanged = function (id, color) {\n      _this.setState({\n        [id]: color\n      });\n    };\n\n    _this.handleTemplateChange = function (templateNo) {\n      _this.setState({\n        templateNo\n      });\n    };\n\n    _this.onDropImage = function (image) {\n      _this.setState({\n        image\n      });\n    };\n\n    _this.saveTemplate = function () {\n      _this.props.updateMenuAppColor({\n        'template-no': _this.state.templateNo.value,\n        'category-background-color': _this.state.categoryBgColor,\n        'product-background-color': _this.state.productBgColor,\n        'banner-color': _this.state.bannerColor,\n        'font-color': _this.state.fontColor\n      });\n    };\n\n    _this.uploadLogo = function () {\n      if (_this.state.image.length === 0) {\n        NotificationManager.warning(\"Please choose a image first\", \"Info\", 3000, null, null, '');\n        return;\n      }\n\n      var data = new FormData();\n      data.append('file', file);\n\n      _this.props.updateMenuAppLogo(data);\n    };\n\n    var _this$props$user = _this.props.user,\n        _templateNo = _this$props$user.template_no,\n        bannerColor = _this$props$user.banner_color,\n        categoryBgColor = _this$props$user.category_background_color,\n        productBgColor = _this$props$user.product_background_color,\n        fontColor = _this$props$user.font_color;\n    _this.state = {\n      templateNo: {\n        label: \"Template \" + _templateNo,\n        value: _templateNo\n      },\n      bannerColor,\n      categoryBgColor,\n      productBgColor,\n      fontColor,\n      image: []\n    };\n    return _this;\n  }\n\n  _createClass(MenuAppSettings, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$user2 = this.props.user,\n          bannerColor = _this$props$user2.banner_color,\n          categoryBgColor = _this$props$user2.category_background_color,\n          productBgColor = _this$props$user2.product_background_color,\n          fontColor = _this$props$user2.font_color,\n          companyLogo = _this$props$user2.company_logo;\n      var templateNo = this.state.templateNo;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Breadcrumb, {\n        heading: \"menu.menu-app-settings\",\n        match: this.props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Separator, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.company-logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 51\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(mediaPath, \"/company_logos/\").concat(companyLogo),\n        className: \"card-img-top\",\n        alt: \"Company Logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(ImageUploader, {\n        withPreview: true,\n        onChange: this.onDropImage,\n        singleImage: true,\n        buttonText: \"Choose Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 53\n        }\n      })))), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.uploadLogo,\n        className: \"btn btn-primary btn-multiple-state float-right \".concat(this.props.logoLoading ? \"show-spinner\" : \"\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"pages.upload-logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 69\n        }\n      })))))), /*#__PURE__*/React.createElement(Colxx, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.template\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 51\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.template\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(Select, {\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        value: templateNo,\n        onChange: this.handleTemplateChange,\n        options: [{\n          label: \"Template 1\",\n          value: 1\n        }, {\n          label: \"Template 2\",\n          value: 2\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.banner-background-color\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(ColorPicker, {\n        initialColor: bannerColor,\n        colorChanged: this.handleColorChanged,\n        id: \"bannerColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.category-list-background-color\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(ColorPicker, {\n        initialColor: categoryBgColor,\n        colorChanged: this.handleColorChanged,\n        id: \"categoryBgColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.product-list-background-color\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(ColorPicker, {\n        initialColor: productBgColor,\n        colorChanged: this.handleColorChanged,\n        id: \"productBgColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"page.menu-app-settings.font-color\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(ColorPicker, {\n        initialColor: fontColor,\n        colorChanged: this.handleColorChanged,\n        id: \"fontColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.saveTemplate,\n        className: \"btn btn-primary btn-multiple-state float-right \".concat(this.props.templateLoading ? \"show-spinner\" : \"\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"pages.save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 69\n        }\n      }))))))))));\n    }\n  }]);\n\n  return MenuAppSettings;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var authUser = _ref.authUser,\n      mySite = _ref.mySite;\n  var user = authUser.user;\n  var templateLoading = mySite.templateLoading,\n      logoLoading = mySite.logoLoading;\n  return {\n    user,\n    templateLoading,\n    logoLoading\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateMenuAppColor,\n  updateMenuAppLogo\n})(MenuAppSettings);","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/my-site/menu-app/index.js"],"names":["React","Component","Fragment","Row","Input","Button","Select","ImageUploader","CustomSelectInput","Colxx","Separator","Breadcrumb","IntlMessages","ColorPicker","connect","updateMenuAppColor","updateMenuAppLogo","mediaPath","NotificationManager","MenuAppSettings","props","handleColorChanged","id","color","setState","handleTemplateChange","templateNo","onDropImage","image","saveTemplate","state","value","categoryBgColor","productBgColor","bannerColor","fontColor","uploadLogo","length","warning","data","FormData","append","file","user","template_no","banner_color","category_background_color","product_background_color","font_color","label","companyLogo","company_logo","match","logoLoading","templateLoading","mapStateToProps","authUser","mySite"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport {Row, Input, Button} from \"reactstrap\";\r\nimport Select from \"react-select\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\r\nimport {Colxx, Separator} from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport ColorPicker from \"../../../components/common/ColorPicker\";\r\nimport {connect} from \"react-redux\";\r\nimport {updateMenuAppColor, updateMenuAppLogo} from \"../../../redux/actions\";\r\nimport {mediaPath} from \"../../../constants/defaultValues\";\r\nimport {NotificationManager} from \"../../../components/common/react-notifications\";\r\n\r\nclass MenuAppSettings extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {\r\n            template_no: templateNo,\r\n            banner_color: bannerColor,\r\n            category_background_color: categoryBgColor,\r\n            product_background_color: productBgColor,\r\n            font_color: fontColor\r\n        } = this.props.user;\r\n\r\n        this.state = {\r\n            templateNo: {\r\n                label: \"Template \" + templateNo,\r\n                value: templateNo\r\n            },\r\n            bannerColor,\r\n            categoryBgColor,\r\n            productBgColor,\r\n            fontColor,\r\n            image: []\r\n        };\r\n    }\r\n\r\n    handleColorChanged = (id, color) => {\r\n        this.setState({\r\n            [id]: color\r\n        });\r\n    }\r\n\r\n    handleTemplateChange = templateNo => {\r\n        this.setState({templateNo});\r\n    }\r\n\r\n    onDropImage = image => {\r\n        this.setState({\r\n            image\r\n        });\r\n    }\r\n\r\n    saveTemplate = () => {\r\n        this.props.updateMenuAppColor({\r\n            'template-no': this.state.templateNo.value,\r\n            'category-background-color': this.state.categoryBgColor,\r\n            'product-background-color': this.state.productBgColor,\r\n            'banner-color': this.state.bannerColor,\r\n            'font-color': this.state.fontColor\r\n        });\r\n    }\r\n\r\n    uploadLogo = () => {\r\n        if (this.state.image.length === 0) {\r\n            NotificationManager.warning(\r\n                \"Please choose a image first\",\r\n                \"Info\",\r\n                3000,\r\n                null,\r\n                null,\r\n                ''\r\n            );\r\n            return;\r\n        }\r\n        const data = new FormData();\r\n        data.append('file', file);\r\n        this.props.updateMenuAppLogo(data);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            banner_color: bannerColor,\r\n            category_background_color: categoryBgColor,\r\n            product_background_color: productBgColor,\r\n            font_color: fontColor,\r\n            company_logo: companyLogo\r\n        } = this.props.user;\r\n        const {templateNo} = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Colxx xxs=\"12\">\r\n                        <Breadcrumb heading=\"menu.menu-app-settings\" match={this.props.match}/>\r\n                        <Separator className=\"mb-5\"/>\r\n                    </Colxx>\r\n                </Row>\r\n                <Row>\r\n                    <Colxx xxs=\"12\" className=\"mb-4\">\r\n                        <Row>\r\n                            <Colxx sm=\"12\" md=\"6\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"card-title\">\r\n                                            <span><IntlMessages id=\"page.menu-app-settings.company-logo\"/></span>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <Row>\r\n                                                <Colxx xxs=\"12\">\r\n                                                    <img src={`${mediaPath}/company_logos/${companyLogo}`}\r\n                                                         className=\"card-img-top\"\r\n                                                         alt=\"Company Logo\"/>\r\n\r\n                                                </Colxx>\r\n                                                <Colxx xxs=\"12\">\r\n                                                    <ImageUploader\r\n                                                        withPreview={true}\r\n                                                        onChange={this.onDropImage}\r\n                                                        singleImage={true}\r\n                                                        buttonText=\"Choose Image\"\r\n                                                    />\r\n                                                </Colxx>\r\n                                            </Row>\r\n                                        </div>\r\n                                        <button onClick={this.uploadLogo}\r\n                                                className={`btn btn-primary btn-multiple-state float-right ${this.props.logoLoading ? \"show-spinner\" : \"\"}`}\r\n                                        >\r\n                                            <span className=\"spinner d-inline-block\">\r\n                                                <span className=\"bounce1\"/>\r\n                                                <span className=\"bounce2\"/>\r\n                                                <span className=\"bounce3\"/>\r\n                                            </span>\r\n                                            <span className=\"label\"><IntlMessages id=\"pages.upload-logo\"/></span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </Colxx>\r\n\r\n                            <Colxx sm=\"12\" md=\"6\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"card-title\">\r\n                                            <span><IntlMessages id=\"page.menu-app-settings.template\"/></span>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.template\"/>\r\n                                            </h6>\r\n                                            <Select\r\n                                                components={{Input: CustomSelectInput}}\r\n                                                className=\"react-select\"\r\n                                                classNamePrefix=\"react-select\"\r\n                                                value={templateNo}\r\n                                                onChange={this.handleTemplateChange}\r\n                                                options={[\r\n                                                    {label: \"Template 1\", value: 1},\r\n                                                    {label: \"Template 2\", value: 2}\r\n                                                ]}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.banner-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={bannerColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"bannerColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages\r\n                                                    id=\"page.menu-app-settings.category-list-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={categoryBgColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"categoryBgColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages\r\n                                                    id=\"page.menu-app-settings.product-list-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={productBgColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"productBgColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.font-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={fontColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"fontColor\"/>\r\n                                        </div>\r\n\r\n                                        <button onClick={this.saveTemplate}\r\n                                                className={`btn btn-primary btn-multiple-state float-right ${this.props.templateLoading ? \"show-spinner\" : \"\"}`}\r\n                                        >\r\n                                            <span className=\"spinner d-inline-block\">\r\n                                                <span className=\"bounce1\"/>\r\n                                                <span className=\"bounce2\"/>\r\n                                                <span className=\"bounce3\"/>\r\n                                            </span>\r\n                                            <span className=\"label\"><IntlMessages id=\"pages.save\"/></span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </Colxx>\r\n                        </Row>\r\n                    </Colxx>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authUser, mySite}) => {\r\n    const {user} = authUser;\r\n    const {templateLoading, logoLoading} = mySite;\r\n    return {user, templateLoading, logoLoading};\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {\r\n        updateMenuAppColor,\r\n        updateMenuAppLogo\r\n    }\r\n)(MenuAppSettings);\r\n"]},"metadata":{},"sourceType":"module"}