{"ast":null,"code":"import _objectSpread from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOGIN_USER,LOGIN_USER_SUCCESS,LOGIN_USER_ERROR,REGISTER_USER,REGISTER_USER_SUCCESS,REGISTER_USER_ERROR,LOGOUT_USER,FORGOT_PASSWORD,FORGOT_PASSWORD_SUCCESS,FORGOT_PASSWORD_ERROR,RESET_PASSWORD,RESET_PASSWORD_SUCCESS,RESET_PASSWORD_ERROR,LOAD_USER_SUCCESS}from'../actions';var INIT_STATE={token:localStorage.getItem('_fs_utk'),user:JSON.parse(localStorage.getItem('user_info')),forgotUserMail:'',newPassword:'',resetPasswordCode:'',loading:false,error:''};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case LOAD_USER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,user:action.payload,error:''});case LOGIN_USER:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case LOGIN_USER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,token:action.payload.token,user:action.payload.user,error:''});case LOGIN_USER_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,token:'',error:action.payload});case FORGOT_PASSWORD:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case FORGOT_PASSWORD_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,forgotUserMail:action.payload,error:''});case FORGOT_PASSWORD_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,forgotUserMail:'',error:action.payload.message});case RESET_PASSWORD:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case RESET_PASSWORD_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,newPassword:action.payload,resetPasswordCode:'',error:''});case RESET_PASSWORD_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,newPassword:'',resetPasswordCode:'',error:action.payload.message});case REGISTER_USER:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case REGISTER_USER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,token:action.payload.uid,error:''});case REGISTER_USER_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,token:'',error:action.payload.message});case LOGOUT_USER:return _objectSpread(_objectSpread({},state),{},{token:null,error:''});default:return _objectSpread({},state);}});","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/auth/reducer.js"],"names":["LOGIN_USER","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","REGISTER_USER","REGISTER_USER_SUCCESS","REGISTER_USER_ERROR","LOGOUT_USER","FORGOT_PASSWORD","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_ERROR","RESET_PASSWORD","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_ERROR","LOAD_USER_SUCCESS","INIT_STATE","token","localStorage","getItem","user","JSON","parse","forgotUserMail","newPassword","resetPasswordCode","loading","error","state","action","type","payload","message","uid"],"mappings":"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","sourcesContent":["import {\r\n    LOGIN_USER,\r\n    LOGIN_USER_SUCCESS,\r\n    LOGIN_USER_ERROR,\r\n    REGISTER_USER,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_ERROR,\r\n    LOGOUT_USER,\r\n    FORGOT_PASSWORD,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_ERROR,\r\n    RESET_PASSWORD,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_ERROR, LOAD_USER_SUCCESS\r\n} from '../actions';\r\n\r\nconst INIT_STATE = {\r\n    token: localStorage.getItem('_fs_utk'),\r\n    user: JSON.parse(localStorage.getItem('user_info')),\r\n    forgotUserMail: '',\r\n    newPassword: '',\r\n    resetPasswordCode: '',\r\n    loading: false,\r\n    error: ''\r\n};\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n    switch (action.type) {\r\n        case LOAD_USER_SUCCESS:\r\n            return { ...state, loading: false, user: action.payload, error: '' };\r\n        case LOGIN_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case LOGIN_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.token, user: action.payload.user, error: '' };\r\n        case LOGIN_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload };\r\n        case FORGOT_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case FORGOT_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, forgotUserMail: action.payload, error: '' };\r\n        case FORGOT_PASSWORD_ERROR:\r\n            return { ...state, loading: false, forgotUserMail: '', error: action.payload.message };\r\n        case RESET_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case RESET_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, newPassword: action.payload, resetPasswordCode: '', error: '' };\r\n        case RESET_PASSWORD_ERROR:\r\n            return { ...state, loading: false, newPassword: '', resetPasswordCode: '', error: action.payload.message };\r\n        case REGISTER_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case REGISTER_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.uid, error: '' };\r\n        case REGISTER_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload.message };\r\n        case LOGOUT_USER:\r\n            return { ...state, token: null, error: '' };\r\n        default: return { ...state };\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}