{"ast":null,"code":"import _classCallCheck from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Row, Card, CardBody, CardFooter, Label, Input, FormGroup, Button } from \"reactstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\nimport axios from \"axios\";\nimport { productImagePath, servicePath, tokenPrefix } from \"../../../constants/defaultValues\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport errorMessage from \"../../../constants/errorMessages\";\nimport { connect } from \"react-redux\";\nimport ImageUploader from \"react-images-upload\";\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\nimport Select from \"react-select\";\n\nvar ProductEdit = /*#__PURE__*/function (_Component) {\n  _inherits(ProductEdit, _Component);\n\n  var _super = _createSuper(ProductEdit);\n\n  function ProductEdit(props) {\n    var _this;\n\n    _classCallCheck(this, ProductEdit);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: false,\n      product: {},\n      categoryList: [],\n      currencyList: []\n    };\n    return _this;\n  }\n\n  _createClass(ProductEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      axios.get(servicePath + \"/products/get\", {\n        params: {\n          productId: this.props.match.params.productId\n        },\n        headers: {\n          'X-API-TOKEN': tokenPrefix + this.props.apiToken\n        }\n      }).then(function (response) {\n        return response['data'];\n      }).then(function (data) {\n        if (data['message'] === \"\") {\n          var category = data['data']['categoryList'].filter(function (item) {\n            return item.value === data['data']['product'].category_id;\n          });\n\n          _this2.setState({\n            loading: false,\n            product: data['data']['product'],\n            categoryList: data['data']['categoryList'],\n            currencyList: data['data']['currencyList'],\n            category: category.length > 0 ? category[0] : {}\n          });\n        } else {\n          _this2.props.history.push('/products/products');\n        }\n      }).catch(function (error) {\n        _this2.props.history.push('/products/products');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          product = _this$state.product,\n          categoryList = _this$state.categoryList,\n          currencyList = _this$state.currencyList,\n          category = _this$state.category;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Breadcrumb, {\n        heading: \"menu.product-edit\",\n        match: this.props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Separator, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 39\n        }\n      }) : /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"8\",\n        className: \"col-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 53\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"name\",\n        value: product.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 53\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(Select, {\n        id: \"category\",\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        onChange: this.handleTemplateChange,\n        value: category,\n        options: categoryList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 53\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"price\",\n        value: product.price,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 53\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"textarea\",\n        id: \"description\",\n        value: product.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 53\n        }\n      }))), /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"4\",\n        className: \"col-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 45\n        }\n      }, product.picture != null ? /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(productImagePath, \"/appview/\").concat(product.picture),\n        className: \"card-img-top\",\n        alt: \"Company Logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 57\n        }\n      }) : \"\", /*#__PURE__*/React.createElement(ImageUploader, {\n        withPreview: true,\n        onChange: this.onDropImage,\n        singleImage: true,\n        buttonText: \"Choose Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(CardFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        className: \"btn-shadow btn-multiple-state \".concat(this.props.loading ? \"show-spinner\" : \"\"),\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 47\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 47\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 47\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"pages.save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 73\n        }\n      })))))))));\n    }\n  }]);\n\n  return ProductEdit;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var authUser = _ref.authUser;\n  var apiToken = authUser.token;\n  return {\n    apiToken\n  };\n};\n\nexport default connect(mapStateToProps, {})(ProductEdit);","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js"],"names":["React","Component","Fragment","Row","Card","CardBody","CardFooter","Label","Input","FormGroup","Button","IntlMessages","Colxx","Separator","Breadcrumb","axios","productImagePath","servicePath","tokenPrefix","NotificationManager","errorMessage","connect","ImageUploader","CustomSelectInput","Select","ProductEdit","props","state","loading","product","categoryList","currencyList","setState","get","params","productId","match","headers","apiToken","then","response","data","category","filter","item","value","category_id","length","history","push","catch","error","console","log","name","handleTemplateChange","price","description","picture","onDropImage","mapStateToProps","authUser","token"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport {Row, Card, CardBody, CardFooter, Label, Input, FormGroup, Button} from \"reactstrap\";\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport {Colxx, Separator} from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport axios from \"axios\";\r\nimport {productImagePath, servicePath, tokenPrefix} from \"../../../constants/defaultValues\";\r\nimport {NotificationManager} from \"../../../components/common/react-notifications\";\r\nimport errorMessage from \"../../../constants/errorMessages\";\r\nimport {connect} from \"react-redux\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\r\nimport Select from \"react-select\";\r\n\r\nclass ProductEdit extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            product: {},\r\n            categoryList: [],\r\n            currencyList: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({loading: true});\r\n        axios\r\n            .get(servicePath + \"/products/get\", {\r\n                params: {\r\n                    productId: this.props.match.params.productId,\r\n                },\r\n                headers: {\r\n                    'X-API-TOKEN': tokenPrefix + this.props.apiToken\r\n                }\r\n            })\r\n            .then(response => response['data'])\r\n            .then(data => {\r\n                if (data['message'] === \"\") {\r\n                    const category = data['data']['categoryList'].filter(item => item.value === data['data']['product'].category_id)\r\n                    this.setState({\r\n                        loading: false,\r\n                        product: data['data']['product'],\r\n                        categoryList: data['data']['categoryList'],\r\n                        currencyList: data['data']['currencyList'],\r\n                        category: category.length > 0 ? category[0] : {}\r\n                    });\r\n                } else {\r\n                    this.props.history.push('/products/products');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.props.history.push('/products/products');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const {loading, product, categoryList, currencyList, category} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Colxx xxs=\"12\">\r\n                        <Breadcrumb heading=\"menu.product-edit\" match={this.props.match}/>\r\n                        <Separator className=\"mb-5\"/>\r\n                    </Colxx>\r\n                </Row>\r\n                <Row>\r\n                    <Colxx xxs=\"12\" className=\"mb-4\">\r\n                        {\r\n                            loading ? <div className=\"loading\"/> :\r\n\r\n                                <Card className=\"mb-4\">\r\n                                    <CardBody>\r\n                                        <Row>\r\n                                            <Colxx xxs=\"12\" xl=\"8\" className=\"col-left\">\r\n                                                <FormGroup>\r\n                                                    <Label for=\"name\">Product Name</Label>\r\n                                                    <Input type=\"text\" id=\"name\" value={product.name}/>\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"category\">Category</Label>\r\n                                                    <Select\r\n                                                        id=\"category\"\r\n                                                        components={{Input: CustomSelectInput}}\r\n                                                        className=\"react-select\"\r\n                                                        classNamePrefix=\"react-select\"\r\n                                                        onChange={this.handleTemplateChange}\r\n                                                        value={category}\r\n                                                        options={categoryList}\r\n                                                    />\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"price\">Price</Label>\r\n                                                    <Input type=\"text\" id=\"price\" value={product.price}/>\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"description\">Description</Label>\r\n                                                    <Input type=\"textarea\" id=\"description\"\r\n                                                           value={product.description}/>\r\n                                                </FormGroup>\r\n                                            </Colxx>\r\n                                            <Colxx xxs=\"12\" xl=\"4\" className=\"col-right\">\r\n                                                {\r\n                                                    product.picture != null ?\r\n                                                        <img src={`${productImagePath}/appview/${product.picture}`}\r\n                                                             className=\"card-img-top\"\r\n                                                             alt=\"Company Logo\"/> : \"\"\r\n                                                }\r\n\r\n                                                <ImageUploader\r\n                                                    withPreview={true}\r\n                                                    onChange={this.onDropImage}\r\n                                                    singleImage={true}\r\n                                                    buttonText=\"Choose Image\"\r\n                                                />\r\n                                            </Colxx>\r\n                                        </Row>\r\n                                        <CardFooter>\r\n                                            <Button\r\n                                                color=\"primary\"\r\n                                                className={`btn-shadow btn-multiple-state ${this.props.loading ? \"show-spinner\" : \"\"}`}\r\n                                                size=\"lg\"\r\n                                            >\r\n                                            <span className=\"spinner d-inline-block\">\r\n                                              <span className=\"bounce1\"/>\r\n                                              <span className=\"bounce2\"/>\r\n                                              <span className=\"bounce3\"/>\r\n                                            </span>\r\n                                                <span className=\"label\"><IntlMessages id=\"pages.save\"/></span>\r\n                                            </Button>\r\n                                        </CardFooter>\r\n                                    </CardBody>\r\n                                </Card>\r\n                        }\r\n                    </Colxx>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authUser}) => {\r\n    const {token: apiToken} = authUser;\r\n    return {apiToken};\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(ProductEdit);"]},"metadata":{},"sourceType":"module"}