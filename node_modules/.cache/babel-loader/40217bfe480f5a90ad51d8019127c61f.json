{"ast":null,"code":"import _classCallCheck from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Row, Card, CardBody, Label, Input, FormGroup } from \"reactstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\nimport axios from \"axios\";\nimport { mediaPath, servicePath, tokenPrefix } from \"../../../constants/defaultValues\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport errorMessage from \"../../../constants/errorMessages\";\nimport { connect } from \"react-redux\";\nimport ImageUploader from \"react-images-upload\";\n\nvar ProductEdit = /*#__PURE__*/function (_Component) {\n  _inherits(ProductEdit, _Component);\n\n  var _super = _createSuper(ProductEdit);\n\n  function ProductEdit(props) {\n    var _this;\n\n    _classCallCheck(this, ProductEdit);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: false,\n      product: {},\n      categoryList: [],\n      currencyList: []\n    };\n    return _this;\n  }\n\n  _createClass(ProductEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      axios.get(servicePath + \"/products/get\", {\n        params: {\n          productId: this.props.match.params.productId\n        },\n        headers: {\n          'X-API-TOKEN': tokenPrefix + this.props.apiToken\n        }\n      }).then(function (response) {\n        return response['data'];\n      }).then(function (data) {\n        _this2.setState({\n          loading: false,\n          data\n        });\n\n        if (data['message'] === \"\") {\n          console.log('loading good');\n        } else {\n          _this2.props.history.push('/products/products');\n        }\n      }).catch(function (error) {\n        _this2.props.history.push('/products/products');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      var loading = this.state.loading;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Breadcrumb, {\n        heading: \"menu.product-edit\",\n        match: this.props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Separator, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 39\n        }\n      }) : /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"8\",\n        className: \"col-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 53\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 53\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"textarea\",\n        id: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 53\n        }\n      }))))), /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"4\",\n        className: \"col-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(mediaPath, \"/company_logos/\").concat(companyLogo),\n        className: \"card-img-top\",\n        alt: \"Company Logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(ImageUploader, {\n        key: companyLogo,\n        withPreview: true,\n        onChange: this.onDropImage,\n        singleImage: true,\n        buttonText: \"Choose Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 49\n        }\n      }))))))));\n    }\n  }]);\n\n  return ProductEdit;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var authUser = _ref.authUser;\n  var apiToken = authUser.token;\n  return {\n    apiToken\n  };\n};\n\nexport default connect(mapStateToProps, {})(ProductEdit);","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js"],"names":["React","Component","Fragment","Row","Card","CardBody","Label","Input","FormGroup","IntlMessages","Colxx","Separator","Breadcrumb","axios","mediaPath","servicePath","tokenPrefix","NotificationManager","errorMessage","connect","ImageUploader","ProductEdit","props","state","loading","product","categoryList","currencyList","setState","get","params","productId","match","headers","apiToken","then","response","data","console","log","history","push","catch","error","companyLogo","onDropImage","mapStateToProps","authUser","token"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport {Row, Card, CardBody, Label, Input, FormGroup} from \"reactstrap\";\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport {Colxx, Separator} from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport axios from \"axios\";\r\nimport {mediaPath, servicePath, tokenPrefix} from \"../../../constants/defaultValues\";\r\nimport {NotificationManager} from \"../../../components/common/react-notifications\";\r\nimport errorMessage from \"../../../constants/errorMessages\";\r\nimport {connect} from \"react-redux\";\r\nimport ImageUploader from \"react-images-upload\";\r\n\r\nclass ProductEdit extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            product: {},\r\n            categoryList: [],\r\n            currencyList: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({loading: true});\r\n        axios\r\n            .get(servicePath + \"/products/get\", {\r\n                params: {\r\n                    productId: this.props.match.params.productId,\r\n                },\r\n                headers: {\r\n                    'X-API-TOKEN': tokenPrefix + this.props.apiToken\r\n                }\r\n            })\r\n            .then(response => response['data'])\r\n            .then(data => {\r\n                this.setState({\r\n                    loading: false,\r\n                    data\r\n                });\r\n                if (data['message'] === \"\") {\r\n                    console.log('loading good');\r\n                } else {\r\n                    this.props.history.push('/products/products');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.props.history.push('/products/products');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const {loading} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Colxx xxs=\"12\">\r\n                        <Breadcrumb heading=\"menu.product-edit\" match={this.props.match}/>\r\n                        <Separator className=\"mb-5\"/>\r\n                    </Colxx>\r\n                </Row>\r\n                <Row>\r\n                    <Colxx xxs=\"12\" className=\"mb-4\">\r\n                        {\r\n                            loading ? <div className=\"loading\" /> :\r\n                                <Row>\r\n                                    <Colxx xxs=\"12\" xl=\"8\" className=\"col-left\">\r\n                                        <Card className=\"mb-4\">\r\n                                            <CardBody>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"name\">Product Name</Label>\r\n                                                    <Input type=\"text\" id=\"name\" />\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"description\">Description</Label>\r\n                                                    <Input type=\"textarea\" id=\"description\" />\r\n                                                </FormGroup>\r\n                                            </CardBody>\r\n                                        </Card>\r\n                                    </Colxx>\r\n                                    <Colxx xxs=\"12\" xl=\"4\" className=\"col-right\">\r\n                                        <Card className=\"mb-4\">\r\n                                            <CardBody>\r\n                                                <img src={`${mediaPath}/company_logos/${companyLogo}`}\r\n                                                     className=\"card-img-top\"\r\n                                                     alt=\"Company Logo\"/>\r\n\r\n                                                <ImageUploader\r\n                                                    key={companyLogo}\r\n                                                    withPreview={true}\r\n                                                    onChange={this.onDropImage}\r\n                                                    singleImage={true}\r\n                                                    buttonText=\"Choose Image\"\r\n                                                />\r\n                                            </CardBody>\r\n                                        </Card>\r\n                                    </Colxx>\r\n                                </Row>\r\n                        }\r\n                    </Colxx>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authUser}) => {\r\n    const {token: apiToken} = authUser;\r\n    return {apiToken};\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(ProductEdit);"]},"metadata":{},"sourceType":"module"}