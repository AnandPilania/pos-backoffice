{"ast":null,"code":"import _classCallCheck from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Row, Card, CardBody, Label, Input, FormGroup, Button } from \"reactstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\nimport axios from \"axios\";\nimport { productImagePath, servicePath, tokenPrefix } from \"../../../constants/defaultValues\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport errorMessage from \"../../../constants/errorMessages\";\nimport { connect } from \"react-redux\";\nimport ImageUploader from \"react-images-upload\";\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\nimport Select from \"react-select\";\nimport { injectIntl } from \"react-intl\";\n\nvar ProductEdit = /*#__PURE__*/function (_Component) {\n  _inherits(ProductEdit, _Component);\n\n  var _super = _createSuper(ProductEdit);\n\n  function ProductEdit(props) {\n    var _this;\n\n    _classCallCheck(this, ProductEdit);\n\n    _this = _super.call(this, props);\n\n    _this.onChange = function (e) {\n      _this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    _this.onDropImage = function (image) {\n      _this.setState({\n        newImage: image\n      });\n    };\n\n    _this.handleCategoryChange = function (category) {\n      _this.setState({\n        category\n      });\n    };\n\n    _this.handleStateChange = function (state) {\n      _this.setState({\n        state\n      });\n    };\n\n    _this.handleCurrencyChange = function (currency) {\n      _this.setState({\n        currency\n      });\n    };\n\n    _this.onSubmit = function () {\n      var _this$state = _this.state,\n          loading = _this$state.loading,\n          uploading = _this$state.uploading,\n          name = _this$state.name,\n          price = _this$state.price,\n          description = _this$state.description,\n          category = _this$state.category,\n          currency = _this$state.currency,\n          state = _this$state.state;\n\n      if (!loading && !uploading) {\n        var data = new FormData();\n        data.append('id', _this.props.match.params.productId);\n        data.append('name', name);\n        data.append('description', description);\n        data.append('category', category.value);\n        data.append('price', price);\n        data.append('state', state.value);\n        data.append('currency', currency.value);\n\n        if (_this.state.newImage != null && _this.state.newImage.length > 0) {\n          data.append('image', _this.state.newImage[0]);\n        }\n\n        _this.setState({\n          uploading: true\n        });\n\n        axios.post(servicePath + \"/products/update\", data, {\n          headers: {\n            'X-API-TOKEN': tokenPrefix + _this.props.apiToken\n          }\n        }).then(function (response) {\n          _this.setState({\n            uploading: false,\n            newImage: []\n          });\n\n          if (response.status === 200 && response.data['message'] === \"\") {\n            console.log(response.data['data']);\n\n            if (response.data['data'].length > 0) {\n              _this.setState({\n                image: response.data['data'][0]\n              });\n            }\n\n            NotificationManager.success(\"Product Successfully Updated\", \"Success\", 3000, null, null, '');\n          } else {\n            var errorCode = response.data['message'];\n            NotificationManager.warning(errorMessage[errorCode], \"Error\", 3000, null, null, '');\n          }\n        }).catch(function (error) {\n          _this.setState({\n            uploading: false\n          });\n\n          NotificationManager.warning(error, \"Error\", 3000, null, null, '');\n        });\n      }\n    };\n\n    _this.state = {\n      loading: false,\n      uploading: false\n    };\n    return _this;\n  }\n\n  _createClass(ProductEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.props.intl);\n      this.setState({\n        loading: true\n      });\n      axios.get(servicePath + \"/products/get\", {\n        params: {\n          productId: this.props.match.params.productId\n        },\n        headers: {\n          'X-API-TOKEN': tokenPrefix + this.props.apiToken\n        }\n      }).then(function (response) {\n        return response['data'];\n      }).then(function (data) {\n        if (data['message'] === \"\") {\n          var category = data['data']['categoryList'].filter(function (item) {\n            return item.value === data['data']['product'].category_id;\n          });\n          var currency = data['data']['currencyList'].filter(function (item) {\n            return item.value === data['data']['product'].currency_id;\n          });\n\n          _this2.setState({\n            loading: false,\n            name: data['data']['product']['name'],\n            price: data['data']['product']['price'],\n            description: data['data']['product']['description'],\n            image: data['data']['product']['picture'],\n            categoryList: data['data']['categoryList'],\n            currencyList: data['data']['currencyList'],\n            state: data['data']['product']['show_flag'] === 1 ? {\n              'label': _this2.props.intl.messages['pages.activate'],\n              'val': 1\n            } : {\n              'label': _this2.props.intl.messages['pages.inactivate'],\n              'val': 0\n            },\n            category: category.length > 0 ? category[0] : {},\n            currency: currency.length > 0 ? currency[0] : {}\n          });\n        } else {\n          _this2.props.history.push('/products/products');\n        }\n      }).catch(function (error) {\n        _this2.props.history.push('/products/products');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          loading = _this$state2.loading,\n          uploading = _this$state2.uploading,\n          name = _this$state2.name,\n          category = _this$state2.category,\n          price = _this$state2.price,\n          description = _this$state2.description,\n          state = _this$state2.state,\n          image = _this$state2.image,\n          currency = _this$state2.currency,\n          categoryList = _this$state2.categoryList,\n          currencyList = _this$state2.currencyList;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Breadcrumb, {\n        heading: \"menu.product-edit\",\n        match: this.props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Separator, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }\n      }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 39\n        }\n      }) : /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"8\",\n        className: \"col-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 53\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        value: name,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 53\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(Select, {\n        id: \"category\",\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        onChange: this.handleCategoryChange,\n        value: category,\n        options: categoryList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 53\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"price\",\n        value: price !== null && price !== void 0 ? price : '',\n        name: \"price\",\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"currency\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 53\n        }\n      }, \"Currency\"), /*#__PURE__*/React.createElement(Select, {\n        id: \"currency\",\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        onChange: this.handleCurrencyChange,\n        value: currency,\n        options: currencyList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 53\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"textarea\",\n        id: \"description\",\n        name: \"description\",\n        value: description,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"state\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 53\n        }\n      }, \"State\"), /*#__PURE__*/React.createElement(Select, {\n        id: \"state\",\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        onChange: this.handleStateChange(),\n        value: state,\n        options: [{\n          'label': this.props.intl.messages['pages.activate'],\n          'val': 1\n        }, {\n          'label': this.props.intl.messages['pages.inactivate'],\n          'val': 0\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 53\n        }\n      }))), /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        xl: \"4\",\n        className: \"col-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 45\n        }\n      }, image != null ? /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(productImagePath, \"/appview/\").concat(image),\n        className: \"card-img-top\",\n        alt: \"Company Logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 57\n        }\n      }) : \"\", /*#__PURE__*/React.createElement(ImageUploader, {\n        withPreview: true,\n        key: image != null ? image : '1',\n        onChange: this.onDropImage,\n        singleImage: true,\n        buttonText: \"Choose Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(Button, {\n        onClick: this.onSubmit,\n        color: \"primary\",\n        className: \"btn-shadow btn-multiple-state \".concat(uploading ? \"show-spinner\" : \"\"),\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 43\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 43\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bounce3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 43\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"pages.save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 69\n        }\n      }))))))));\n    }\n  }]);\n\n  return ProductEdit;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var authUser = _ref.authUser;\n  var apiToken = authUser.token;\n  return {\n    apiToken\n  };\n};\n\nexport default injectIntl(connect(mapStateToProps, {})(ProductEdit));","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/edit.js"],"names":["React","Component","Fragment","Row","Card","CardBody","Label","Input","FormGroup","Button","IntlMessages","Colxx","Separator","Breadcrumb","axios","productImagePath","servicePath","tokenPrefix","NotificationManager","errorMessage","connect","ImageUploader","CustomSelectInput","Select","injectIntl","ProductEdit","props","onChange","e","setState","target","name","value","onDropImage","image","newImage","handleCategoryChange","category","handleStateChange","state","handleCurrencyChange","currency","onSubmit","loading","uploading","price","description","data","FormData","append","match","params","productId","length","post","headers","apiToken","then","response","status","console","log","success","errorCode","warning","catch","error","intl","get","filter","item","category_id","currency_id","categoryList","currencyList","messages","history","push","mapStateToProps","authUser","token"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport {Row, Card, CardBody, Label, Input, FormGroup, Button} from \"reactstrap\";\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport {Colxx, Separator} from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport axios from \"axios\";\r\nimport {productImagePath, servicePath, tokenPrefix} from \"../../../constants/defaultValues\";\r\nimport {NotificationManager} from \"../../../components/common/react-notifications\";\r\nimport errorMessage from \"../../../constants/errorMessages\";\r\nimport {connect} from \"react-redux\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\r\nimport Select from \"react-select\";\r\nimport {injectIntl} from \"react-intl\";\r\n\r\nclass ProductEdit extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            uploading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.intl);\r\n        this.setState({loading: true});\r\n        axios\r\n            .get(servicePath + \"/products/get\", {\r\n                params: {\r\n                    productId: this.props.match.params.productId,\r\n                },\r\n                headers: {\r\n                    'X-API-TOKEN': tokenPrefix + this.props.apiToken\r\n                }\r\n            })\r\n            .then(response => response['data'])\r\n            .then(data => {\r\n                if (data['message'] === \"\") {\r\n                    const category = data['data']['categoryList'].filter(item => item.value === data['data']['product'].category_id)\r\n                    const currency = data['data']['currencyList'].filter(item => item.value === data['data']['product'].currency_id)\r\n                    this.setState({\r\n                        loading: false,\r\n                        name: data['data']['product']['name'],\r\n                        price: data['data']['product']['price'],\r\n                        description: data['data']['product']['description'],\r\n                        image: data['data']['product']['picture'],\r\n                        categoryList: data['data']['categoryList'],\r\n                        currencyList: data['data']['currencyList'],\r\n                        state: data['data']['product']['show_flag'] === 1 ?\r\n                            {'label': this.props.intl.messages['pages.activate'], 'val': 1} :\r\n                            {'label': this.props.intl.messages['pages.inactivate'], 'val': 0},\r\n                        category: category.length > 0 ? category[0] : {},\r\n                        currency: currency.length > 0 ? currency[0] : {},\r\n                    });\r\n                } else {\r\n                    this.props.history.push('/products/products');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.props.history.push('/products/products');\r\n            });\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    onDropImage = image => {\r\n        this.setState({\r\n            newImage: image\r\n        });\r\n    }\r\n\r\n    handleCategoryChange = category => {\r\n        this.setState({category});\r\n    }\r\n\r\n    handleStateChange = state => {\r\n        this.setState({state});\r\n    }\r\n\r\n    handleCurrencyChange = currency => {\r\n        this.setState({currency});\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const {loading, uploading, name, price, description, category, currency, state} = this.state;\r\n\r\n        if (!loading && !uploading) {\r\n\r\n            const data = new FormData();\r\n            data.append('id', this.props.match.params.productId);\r\n            data.append('name', name);\r\n            data.append('description', description);\r\n            data.append('category', category.value);\r\n            data.append('price', price);\r\n            data.append('state', state.value);\r\n            data.append('currency', currency.value);\r\n\r\n            if (this.state.newImage != null && this.state.newImage.length > 0) {\r\n                data.append('image', this.state.newImage[0]);\r\n            }\r\n\r\n            this.setState({uploading: true});\r\n\r\n            axios\r\n                .post(servicePath + \"/products/update\", data, {\r\n                    headers: {\r\n                        'X-API-TOKEN': tokenPrefix + this.props.apiToken\r\n                    }\r\n                })\r\n                .then(response => {\r\n                    this.setState({\r\n                        uploading: false,\r\n                        newImage: []\r\n                    });\r\n                    if (response.status === 200 && response.data['message'] === \"\") {\r\n                        console.log(response.data['data']);\r\n                        if (response.data['data'].length > 0) {\r\n                            this.setState({\r\n                                image: response.data['data'][0]\r\n                            });\r\n                        }\r\n                        NotificationManager.success(\r\n                            \"Product Successfully Updated\",\r\n                            \"Success\",\r\n                            3000,\r\n                            null,\r\n                            null,\r\n                            ''\r\n                        );\r\n                    } else {\r\n                        const errorCode = response.data['message'];\r\n                        NotificationManager.warning(\r\n                            errorMessage[errorCode],\r\n                            \"Error\",\r\n                            3000,\r\n                            null,\r\n                            null,\r\n                            ''\r\n                        );\r\n                    }\r\n\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        uploading: false\r\n                    });\r\n                    NotificationManager.warning(\r\n                        error,\r\n                        \"Error\",\r\n                        3000,\r\n                        null,\r\n                        null,\r\n                        ''\r\n                    );\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            loading,\r\n            uploading,\r\n            name,\r\n            category,\r\n            price,\r\n            description,\r\n            state,\r\n            image,\r\n            currency,\r\n            categoryList,\r\n            currencyList\r\n        } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Colxx xxs=\"12\">\r\n                        <Breadcrumb heading=\"menu.product-edit\" match={this.props.match}/>\r\n                        <Separator className=\"mb-5\"/>\r\n                    </Colxx>\r\n                </Row>\r\n                <Row>\r\n                    <Colxx xxs=\"12\" className=\"mb-4\">\r\n                        {\r\n                            loading ? <div className=\"loading\"/> :\r\n\r\n                                <Card className=\"mb-4\">\r\n                                    <CardBody>\r\n                                        <Row>\r\n                                            <Colxx xxs=\"12\" xl=\"8\" className=\"col-left\">\r\n                                                <FormGroup>\r\n                                                    <Label for=\"name\">Product Name</Label>\r\n                                                    <Input type=\"text\" id=\"name\" name=\"name\" value={name}\r\n                                                           onChange={this.onChange}/>\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"category\">Category</Label>\r\n                                                    <Select\r\n                                                        id=\"category\"\r\n                                                        components={{Input: CustomSelectInput}}\r\n                                                        className=\"react-select\"\r\n                                                        classNamePrefix=\"react-select\"\r\n                                                        onChange={this.handleCategoryChange}\r\n                                                        value={category}\r\n                                                        options={categoryList}\r\n                                                    />\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"price\">Price</Label>\r\n                                                    <Input type=\"text\" id=\"price\" value={price ?? ''} name=\"price\"\r\n                                                           onChange={this.onChange}/>\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"currency\">Currency</Label>\r\n                                                    <Select\r\n                                                        id=\"currency\"\r\n                                                        components={{Input: CustomSelectInput}}\r\n                                                        className=\"react-select\"\r\n                                                        classNamePrefix=\"react-select\"\r\n                                                        onChange={this.handleCurrencyChange}\r\n                                                        value={currency}\r\n                                                        options={currencyList}\r\n                                                    />\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"description\">Description</Label>\r\n                                                    <Input type=\"textarea\" id=\"description\" name=\"description\"\r\n                                                           value={description} onChange={this.onChange}/>\r\n                                                </FormGroup>\r\n                                                <FormGroup>\r\n                                                    <Label for=\"state\">State</Label>\r\n                                                    <Select\r\n                                                        id=\"state\"\r\n                                                        components={{Input: CustomSelectInput}}\r\n                                                        className=\"react-select\"\r\n                                                        classNamePrefix=\"react-select\"\r\n                                                        onChange={this.handleStateChange()}\r\n                                                        value={state}\r\n                                                        options={[\r\n                                                            {\r\n                                                                'label': this.props.intl.messages['pages.activate'],\r\n                                                                'val': 1\r\n                                                            },\r\n                                                            {\r\n                                                                'label': this.props.intl.messages['pages.inactivate'],\r\n                                                                'val': 0\r\n                                                            }\r\n                                                        ]}\r\n                                                    />\r\n                                                </FormGroup>\r\n                                            </Colxx>\r\n                                            <Colxx xxs=\"12\" xl=\"4\" className=\"col-right\">\r\n                                                {\r\n                                                    image != null ?\r\n                                                        <img src={`${productImagePath}/appview/${image}`}\r\n                                                             className=\"card-img-top\"\r\n                                                             alt=\"Company Logo\"/> : \"\"\r\n                                                }\r\n\r\n                                                <ImageUploader\r\n                                                    withPreview={true}\r\n                                                    key={image != null ? image : '1'}\r\n                                                    onChange={this.onDropImage}\r\n                                                    singleImage={true}\r\n                                                    buttonText=\"Choose Image\"\r\n                                                />\r\n                                            </Colxx>\r\n                                        </Row>\r\n                                        <Button\r\n                                            onClick={this.onSubmit}\r\n                                            color=\"primary\"\r\n                                            className={`btn-shadow btn-multiple-state ${uploading ? \"show-spinner\" : \"\"}`}\r\n                                            size=\"lg\"\r\n                                        >\r\n                                        <span className=\"spinner d-inline-block\">\r\n                                          <span className=\"bounce1\"/>\r\n                                          <span className=\"bounce2\"/>\r\n                                          <span className=\"bounce3\"/>\r\n                                        </span>\r\n                                            <span className=\"label\"><IntlMessages id=\"pages.save\"/></span>\r\n                                        </Button>\r\n                                    </CardBody>\r\n                                </Card>\r\n                        }\r\n                    </Colxx>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authUser}) => {\r\n    const {token: apiToken} = authUser;\r\n    return {apiToken};\r\n};\r\n\r\nexport default injectIntl(\r\n    connect(\r\n        mapStateToProps,\r\n        {}\r\n    )(ProductEdit));"]},"metadata":{},"sourceType":"module"}