{"ast":null,"code":"import _classCallCheck from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Row,Card,CardBody,CardTitle}from\"reactstrap\";import Select from\"react-select\";import ImageUploader from\"react-images-upload\";import CustomSelectInput from\"../../../components/common/CustomSelectInput\";import{Colxx,Separator}from\"../../../components/common/CustomBootstrap\";import Breadcrumb from\"../../../containers/navs/Breadcrumb\";import IntlMessages from\"../../../helpers/IntlMessages\";import ColorPicker from\"../../../components/common/ColorPicker\";import{connect}from\"react-redux\";import{updateMenuAppColor,updateMenuAppLogo}from\"../../../redux/actions\";import{mediaPath}from\"../../../constants/defaultValues\";import{NotificationManager}from\"../../../components/common/react-notifications\";var MenuAppSettings=/*#__PURE__*/function(_Component){_inherits(MenuAppSettings,_Component);var _super=_createSuper(MenuAppSettings);function MenuAppSettings(props){var _this;_classCallCheck(this,MenuAppSettings);_this=_super.call(this,props);_this.handleColorChanged=function(id,color){_this.setState({[id]:color});};_this.handleTemplateChange=function(templateNo){_this.setState({templateNo});};_this.onDropImage=function(image){_this.setState({image});};_this.saveTemplate=function(){_this.props.updateMenuAppColor({'template-no':_this.state.templateNo.value,'category-background-color':_this.state.categoryBgColor,'product-background-color':_this.state.productBgColor,'banner-color':_this.state.bannerColor,'font-color':_this.state.fontColor});};_this.uploadLogo=function(){if(_this.state.image.length===0){NotificationManager.warning(\"Please choose a image first\",\"Info\",3000,null,null,'');return;}var data=new FormData();data.append('file',_this.state.image[0]);_this.props.updateMenuAppLogo(data);_this.setState({image:[]});};var _this$props$menuAppSe=_this.props.menuAppSettings,_templateNo=_this$props$menuAppSe.templateNo,bannerColor=_this$props$menuAppSe.bannerColor,categoryBgColor=_this$props$menuAppSe.categoryBgColor,productBgColor=_this$props$menuAppSe.productBgColor,fontColor=_this$props$menuAppSe.fontColor;_this.state={templateNo:{label:\"Template \"+_templateNo,value:_templateNo},bannerColor,categoryBgColor,productBgColor,fontColor,image:[],imageUploaderKey:0};return _this;}_createClass(MenuAppSettings,[{key:\"render\",value:function render(){var _this$props$menuAppSe2=this.props.menuAppSettings,bannerColor=_this$props$menuAppSe2.bannerColor,categoryBgColor=_this$props$menuAppSe2.categoryBgColor,productBgColor=_this$props$menuAppSe2.productBgColor,fontColor=_this$props$menuAppSe2.fontColor,companyLogo=_this$props$menuAppSe2.companyLogo;var templateNo=this.state.templateNo;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{heading:\"menu.menu-design\",match:this.props.match}),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{sm:\"12\",md:\"6\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.company-logo\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(mediaPath,\"/company_logos/\").concat(companyLogo),className:\"card-img-top\",alt:\"Company Logo\"})),/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(ImageUploader,{key:companyLogo,withPreview:true,onChange:this.onDropImage,singleImage:true,buttonText:\"Choose Image\"})))),/*#__PURE__*/React.createElement(\"button\",{onClick:this.uploadLogo,className:\"btn btn-primary btn-multiple-state float-right \".concat(this.props.logoLoading?\"show-spinner\":\"\")},/*#__PURE__*/React.createElement(\"span\",{className:\"spinner d-inline-block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bounce1\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"bounce2\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"bounce3\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"label\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"pages.upload-logo\"})))))),/*#__PURE__*/React.createElement(Colxx,{sm:\"12\",md:\"6\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.template\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"font-weight-light\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.template\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",value:templateNo,onChange:this.handleTemplateChange,options:[{label:\"Template 1\",value:1},{label:\"Template 2\",value:2}]})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"font-weight-light\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.banner-background-color\"})),/*#__PURE__*/React.createElement(ColorPicker,{initialColor:bannerColor,colorChanged:this.handleColorChanged,id:\"bannerColor\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"font-weight-light\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.category-list-background-color\"})),/*#__PURE__*/React.createElement(ColorPicker,{initialColor:categoryBgColor,colorChanged:this.handleColorChanged,id:\"categoryBgColor\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"font-weight-light\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.product-list-background-color\"})),/*#__PURE__*/React.createElement(ColorPicker,{initialColor:productBgColor,colorChanged:this.handleColorChanged,id:\"productBgColor\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"font-weight-light\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"page.menu-app-settings.font-color\"})),/*#__PURE__*/React.createElement(ColorPicker,{initialColor:fontColor,colorChanged:this.handleColorChanged,id:\"fontColor\"})),/*#__PURE__*/React.createElement(\"button\",{onClick:this.saveTemplate,className:\"btn btn-primary btn-multiple-state float-right \".concat(this.props.templateLoading?\"show-spinner\":\"\")},/*#__PURE__*/React.createElement(\"span\",{className:\"spinner d-inline-block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bounce1\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"bounce2\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"bounce3\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"label\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"pages.save\"}))))))))));}}]);return MenuAppSettings;}(Component);var mapStateToProps=function mapStateToProps(_ref){var mySite=_ref.mySite;var menuAppSettings=mySite.menuAppSettings,templateLoading=mySite.templateLoading,logoLoading=mySite.logoLoading;return{menuAppSettings,templateLoading,logoLoading};};export default connect(mapStateToProps,{updateMenuAppColor,updateMenuAppLogo})(MenuAppSettings);","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/my-account/menu-app/index.js"],"names":["React","Component","Fragment","Row","Card","CardBody","CardTitle","Select","ImageUploader","CustomSelectInput","Colxx","Separator","Breadcrumb","IntlMessages","ColorPicker","connect","updateMenuAppColor","updateMenuAppLogo","mediaPath","NotificationManager","MenuAppSettings","props","handleColorChanged","id","color","setState","handleTemplateChange","templateNo","onDropImage","image","saveTemplate","state","value","categoryBgColor","productBgColor","bannerColor","fontColor","uploadLogo","length","warning","data","FormData","append","menuAppSettings","label","imageUploaderKey","companyLogo","match","logoLoading","Input","templateLoading","mapStateToProps","mySite"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport {Row, Card, CardBody, CardTitle} from \"reactstrap\";\r\nimport Select from \"react-select\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport CustomSelectInput from \"../../../components/common/CustomSelectInput\";\r\nimport {Colxx, Separator} from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport ColorPicker from \"../../../components/common/ColorPicker\";\r\nimport {connect} from \"react-redux\";\r\nimport {updateMenuAppColor, updateMenuAppLogo} from \"../../../redux/actions\";\r\nimport {mediaPath} from \"../../../constants/defaultValues\";\r\nimport {NotificationManager} from \"../../../components/common/react-notifications\";\r\n\r\nclass MenuAppSettings extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {\r\n            templateNo,\r\n            bannerColor,\r\n            categoryBgColor,\r\n            productBgColor,\r\n            fontColor\r\n        } = this.props.menuAppSettings;\r\n\r\n        this.state = {\r\n            templateNo: {\r\n                label: \"Template \" + templateNo,\r\n                value: templateNo\r\n            },\r\n            bannerColor,\r\n            categoryBgColor,\r\n            productBgColor,\r\n            fontColor,\r\n            image: [],\r\n            imageUploaderKey: 0\r\n        };\r\n    }\r\n\r\n    handleColorChanged = (id, color) => {\r\n        this.setState({\r\n            [id]: color\r\n        });\r\n    }\r\n\r\n    handleTemplateChange = templateNo => {\r\n        this.setState({templateNo});\r\n    }\r\n\r\n    onDropImage = image => {\r\n        this.setState({\r\n            image\r\n        });\r\n    }\r\n\r\n    saveTemplate = () => {\r\n        this.props.updateMenuAppColor({\r\n            'template-no': this.state.templateNo.value,\r\n            'category-background-color': this.state.categoryBgColor,\r\n            'product-background-color': this.state.productBgColor,\r\n            'banner-color': this.state.bannerColor,\r\n            'font-color': this.state.fontColor\r\n        });\r\n    }\r\n\r\n    uploadLogo = () => {\r\n        if (this.state.image.length === 0) {\r\n            NotificationManager.warning(\r\n                \"Please choose a image first\",\r\n                \"Info\",\r\n                3000,\r\n                null,\r\n                null,\r\n                ''\r\n            );\r\n            return;\r\n        }\r\n        const data = new FormData();\r\n        data.append('file', this.state.image[0]);\r\n        this.props.updateMenuAppLogo(data);\r\n        this.setState({\r\n            image: []\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            bannerColor,\r\n            categoryBgColor,\r\n            productBgColor,\r\n            fontColor,\r\n            companyLogo\r\n        } = this.props.menuAppSettings;\r\n        const {templateNo} = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Colxx xxs=\"12\">\r\n                        <Breadcrumb heading=\"menu.menu-design\" match={this.props.match}/>\r\n                        <Separator className=\"mb-5\"/>\r\n                    </Colxx>\r\n                </Row>\r\n                <Row>\r\n                    <Colxx xxs=\"12\" className=\"mb-4\">\r\n                        <Row>\r\n                            <Colxx sm=\"12\" md=\"6\">\r\n                                <Card className=\"mb-4\">\r\n                                    <CardBody>\r\n                                        <CardTitle>\r\n                                            <span><IntlMessages id=\"page.menu-app-settings.company-logo\"/></span>\r\n                                        </CardTitle>\r\n                                        <div className=\"mb-4\">\r\n                                            <Row>\r\n                                                <Colxx xxs=\"12\">\r\n                                                    <img src={`${mediaPath}/company_logos/${companyLogo}`}\r\n                                                         className=\"card-img-top\"\r\n                                                         alt=\"Company Logo\"/>\r\n\r\n                                                </Colxx>\r\n                                                <Colxx xxs=\"12\">\r\n                                                    <ImageUploader\r\n                                                        key={companyLogo}\r\n                                                        withPreview={true}\r\n                                                        onChange={this.onDropImage}\r\n                                                        singleImage={true}\r\n                                                        buttonText=\"Choose Image\"\r\n                                                    />\r\n                                                </Colxx>\r\n                                            </Row>\r\n                                        </div>\r\n                                        <button onClick={this.uploadLogo}\r\n                                                className={`btn btn-primary btn-multiple-state float-right ${this.props.logoLoading ? \"show-spinner\" : \"\"}`}\r\n                                        >\r\n                                            <span className=\"spinner d-inline-block\">\r\n                                                <span className=\"bounce1\"/>\r\n                                                <span className=\"bounce2\"/>\r\n                                                <span className=\"bounce3\"/>\r\n                                            </span>\r\n                                            <span className=\"label\"><IntlMessages id=\"pages.upload-logo\"/></span>\r\n                                        </button>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Colxx>\r\n\r\n                            <Colxx sm=\"12\" md=\"6\">\r\n                                <Card className=\"mb-4\">\r\n                                    <CardBody>\r\n                                        <CardTitle>\r\n                                            <span><IntlMessages id=\"page.menu-app-settings.template\"/></span>\r\n                                        </CardTitle>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.template\"/>\r\n                                            </h6>\r\n                                            <Select\r\n                                                components={{Input: CustomSelectInput}}\r\n                                                className=\"react-select\"\r\n                                                classNamePrefix=\"react-select\"\r\n                                                value={templateNo}\r\n                                                onChange={this.handleTemplateChange}\r\n                                                options={[\r\n                                                    {label: \"Template 1\", value: 1},\r\n                                                    {label: \"Template 2\", value: 2}\r\n                                                ]}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.banner-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={bannerColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"bannerColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages\r\n                                                    id=\"page.menu-app-settings.category-list-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={categoryBgColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"categoryBgColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages\r\n                                                    id=\"page.menu-app-settings.product-list-background-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={productBgColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"productBgColor\"/>\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-4\">\r\n                                            <h6 className=\"font-weight-light\">\r\n                                                <IntlMessages id=\"page.menu-app-settings.font-color\"/>\r\n                                            </h6>\r\n                                            <ColorPicker initialColor={fontColor}\r\n                                                         colorChanged={this.handleColorChanged}\r\n                                                         id=\"fontColor\"/>\r\n                                        </div>\r\n\r\n                                        <button onClick={this.saveTemplate}\r\n                                                className={`btn btn-primary btn-multiple-state float-right ${this.props.templateLoading ? \"show-spinner\" : \"\"}`}\r\n                                        >\r\n                                            <span className=\"spinner d-inline-block\">\r\n                                                <span className=\"bounce1\"/>\r\n                                                <span className=\"bounce2\"/>\r\n                                                <span className=\"bounce3\"/>\r\n                                            </span>\r\n                                            <span className=\"label\"><IntlMessages id=\"pages.save\"/></span>\r\n                                        </button>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Colxx>\r\n                        </Row>\r\n                    </Colxx>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({mySite}) => {\r\n    const {menuAppSettings, templateLoading, logoLoading} = mySite;\r\n    return {menuAppSettings, templateLoading, logoLoading};\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {\r\n        updateMenuAppColor,\r\n        updateMenuAppLogo\r\n    }\r\n)(MenuAppSettings);\r\n"]},"metadata":{},"sourceType":"module"}