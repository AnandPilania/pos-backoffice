{"ast":null,"code":"import _classCallCheck from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/containers/navs/Topnav.js\";\nimport React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { UncontrolledDropdown, DropdownItem, DropdownToggle, DropdownMenu } from \"reactstrap\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setContainerClassnames, clickOnMobileMenu, logoutUser, changeLocale } from \"../../redux/actions\";\nimport { localeOptions, isDarkSwitchActive, mediaPath } from \"../../constants/defaultValues\";\nimport { MobileMenuIcon, MenuIcon } from \"../../components/svg\";\nimport TopnavNotifications from \"./Topnav.Notifications\";\nimport TopnavDarkSwitch from \"./Topnav.DarkSwitch\";\nimport { getDirection, setDirection } from \"../../helpers/Utils\";\n\nvar TopNav = /*#__PURE__*/function (_Component) {\n  _inherits(TopNav, _Component);\n\n  var _super = _createSuper(TopNav);\n\n  function TopNav(props) {\n    var _this;\n\n    _classCallCheck(this, TopNav);\n\n    _this = _super.call(this, props);\n\n    _this.handleChangeLocale = function (locale, direction) {\n      _this.props.changeLocale(locale);\n\n      var currentDirection = getDirection().direction;\n\n      if (direction !== currentDirection) {\n        setDirection(direction);\n        setTimeout(function () {\n          window.location.reload();\n        }, 500);\n      }\n    };\n\n    _this.handleLogout = function () {\n      _this.props.logoutUser(_this.props.history);\n    };\n\n    _this.handleClickProfile = function () {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/my-site/information\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      });\n    };\n\n    _this.menuButtonClick = function (e, menuClickCount, containerClassnames) {\n      e.preventDefault();\n      setTimeout(function () {\n        var event = document.createEvent(\"HTMLEvents\");\n        event.initEvent(\"resize\", false, false);\n        window.dispatchEvent(event);\n      }, 350);\n\n      _this.props.setContainerClassnames(++menuClickCount, containerClassnames, _this.props.selectedMenuHasSubItems);\n    };\n\n    _this.mobileMenuButtonClick = function (e, containerClassnames) {\n      e.preventDefault();\n\n      _this.props.clickOnMobileMenu(containerClassnames);\n    };\n\n    _this.state = {\n      isInFullScreen: false,\n      searchKeyword: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(TopNav, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          containerClassnames = _this$props.containerClassnames,\n          menuClickCount = _this$props.menuClickCount,\n          locale = _this$props.locale;\n      return /*#__PURE__*/React.createElement(\"nav\", {\n        className: \"navbar fixed-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center navbar-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        to: \"#\",\n        location: {},\n        className: \"menu-button d-none d-md-block\",\n        onClick: function onClick(e) {\n          return _this2.menuButtonClick(e, menuClickCount, containerClassnames);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MenuIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(NavLink, {\n        to: \"#\",\n        location: {},\n        className: \"menu-button-mobile d-xs-block d-sm-block d-md-none\",\n        onClick: function onClick(e) {\n          return _this2.mobileMenuButtonClick(e, containerClassnames);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MobileMenuIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n        className: \"ml-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DropdownToggle, {\n        caret: true,\n        color: \"light\",\n        size: \"sm\",\n        className: \"language-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }\n      }, locale.toUpperCase())), /*#__PURE__*/React.createElement(DropdownMenu, {\n        className: \"mt-3\",\n        right: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, localeOptions.map(function (l) {\n        return /*#__PURE__*/React.createElement(DropdownItem, {\n          onClick: function onClick() {\n            return _this2.handleChangeLocale(l.id, l.direction);\n          },\n          key: l.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 41\n          }\n        }, l.name);\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navbar-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, isDarkSwitchActive && /*#__PURE__*/React.createElement(TopnavDarkSwitch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 44\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header-icons d-inline-block align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TopnavNotifications, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user d-inline-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n        className: \"dropdown-menu-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DropdownToggle, {\n        className: \"p-0\",\n        color: \"empty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"name mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 33\n        }\n      }, this.props.loginUser ? this.props.loginUser.firstName + ' ' + this.props.loginUser.lastName : ''), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"Profile\",\n        src: this.props.loginUser.companyLogo !== undefined ? \"\".concat(mediaPath, \"/company_logos/\").concat(this.props.loginUser.companyLogo) : '/assets/img/profile-pic-l.jpg',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(DropdownMenu, {\n        className: \"mt-3\",\n        right: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: this.handleClickProfile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 33\n        }\n      }, \"Profile\"), /*#__PURE__*/React.createElement(DropdownItem, {\n        divider: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: this.handleLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 33\n        }\n      }, \"Sign out\"))))));\n    }\n  }]);\n\n  return TopNav;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var menu = _ref.menu,\n      settings = _ref.settings,\n      authUser = _ref.authUser;\n  var containerClassnames = menu.containerClassnames,\n      menuClickCount = menu.menuClickCount,\n      selectedMenuHasSubItems = menu.selectedMenuHasSubItems;\n  var locale = settings.locale;\n  var loginUser = authUser.user;\n  return {\n    containerClassnames,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    locale,\n    loginUser\n  };\n};\n\nexport default injectIntl(connect(mapStateToProps, {\n  setContainerClassnames,\n  clickOnMobileMenu,\n  logoutUser,\n  changeLocale\n})(TopNav));","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/containers/navs/Topnav.js"],"names":["React","Component","injectIntl","UncontrolledDropdown","DropdownItem","DropdownToggle","DropdownMenu","NavLink","Redirect","connect","setContainerClassnames","clickOnMobileMenu","logoutUser","changeLocale","localeOptions","isDarkSwitchActive","mediaPath","MobileMenuIcon","MenuIcon","TopnavNotifications","TopnavDarkSwitch","getDirection","setDirection","TopNav","props","handleChangeLocale","locale","direction","currentDirection","setTimeout","window","location","reload","handleLogout","history","handleClickProfile","menuButtonClick","e","menuClickCount","containerClassnames","preventDefault","event","document","createEvent","initEvent","dispatchEvent","selectedMenuHasSubItems","mobileMenuButtonClick","state","isInFullScreen","searchKeyword","toUpperCase","map","l","id","name","loginUser","firstName","lastName","companyLogo","undefined","mapStateToProps","menu","settings","authUser","user"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,UAAR,QAAyB,YAAzB;AACA,SACIC,oBADJ,EAEIC,YAFJ,EAGIC,cAHJ,EAIIC,YAJJ,QAKO,YALP;AAOA,SAAQC,OAAR,EAAiBC,QAAjB,QAAgC,kBAAhC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,SACIC,sBADJ,EAEIC,iBAFJ,EAGIC,UAHJ,EAIIC,YAJJ,QAKO,qBALP;AAOA,SACIC,aADJ,EAEIC,kBAFJ,EAGIC,SAHJ,QAIO,+BAJP;AAMA,SAAQC,cAAR,EAAwBC,QAAxB,QAAuC,sBAAvC;AACA,OAAOC,mBAAP,MAAgC,wBAAhC;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,SAAQC,YAAR,EAAsBC,YAAtB,QAAyC,qBAAzC;;IAEMC,M;;;;;AACF,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe,UASnBC,kBATmB,GASE,UAACC,MAAD,EAASC,SAAT,EAAuB;AACxC,YAAKH,KAAL,CAAWX,YAAX,CAAwBa,MAAxB;;AAEA,UAAME,gBAAgB,GAAGP,YAAY,GAAGM,SAAxC;;AACA,UAAIA,SAAS,KAAKC,gBAAlB,EAAoC;AAChCN,QAAAA,YAAY,CAACK,SAAD,CAAZ;AACAE,QAAAA,UAAU,CAAC,YAAM;AACbC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,SAFS,EAEP,GAFO,CAAV;AAGH;AACJ,KAnBkB;;AAAA,UAqBnBC,YArBmB,GAqBJ,YAAM;AACjB,YAAKT,KAAL,CAAWZ,UAAX,CAAsB,MAAKY,KAAL,CAAWU,OAAjC;AACH,KAvBkB;;AAAA,UAyBnBC,kBAzBmB,GAyBE,YAAM;AACvB,0BAAQ,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH,KA3BkB;;AAAA,UA6BnBC,eA7BmB,GA6BD,UAACC,CAAD,EAAIC,cAAJ,EAAoBC,mBAApB,EAA4C;AAC1DF,MAAAA,CAAC,CAACG,cAAF;AAEAX,MAAAA,UAAU,CAAC,YAAM;AACb,YAAIY,KAAK,GAAGC,QAAQ,CAACC,WAAT,CAAqB,YAArB,CAAZ;AACAF,QAAAA,KAAK,CAACG,SAAN,CAAgB,QAAhB,EAA0B,KAA1B,EAAiC,KAAjC;AACAd,QAAAA,MAAM,CAACe,aAAP,CAAqBJ,KAArB;AACH,OAJS,EAIP,GAJO,CAAV;;AAKA,YAAKjB,KAAL,CAAWd,sBAAX,CACI,EAAE4B,cADN,EAEIC,mBAFJ,EAGI,MAAKf,KAAL,CAAWsB,uBAHf;AAKH,KA1CkB;;AAAA,UA2CnBC,qBA3CmB,GA2CK,UAACV,CAAD,EAAIE,mBAAJ,EAA4B;AAChDF,MAAAA,CAAC,CAACG,cAAF;;AACA,YAAKhB,KAAL,CAAWb,iBAAX,CAA6B4B,mBAA7B;AACH,KA9CkB;;AAGf,UAAKS,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAE,KADP;AAETC,MAAAA,aAAa,EAAE;AAFN,KAAb;AAHe;AAOlB;;;;6BAyCQ;AAAA;;AAAA,wBACiD,KAAK1B,KADtD;AAAA,UACEe,mBADF,eACEA,mBADF;AAAA,UACuBD,cADvB,eACuBA,cADvB;AAAA,UACuCZ,MADvC,eACuCA,MADvC;AAEL,0BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,OAAD;AACI,QAAA,EAAE,EAAC,GADP;AACW,QAAA,QAAQ,EAAE,EADrB;AAEI,QAAA,SAAS,EAAC,+BAFd;AAGI,QAAA,OAAO,EAAE,iBAAAW,CAAC;AAAA,iBACN,MAAI,CAACD,eAAL,CAAqBC,CAArB,EAAwBC,cAAxB,EAAwCC,mBAAxC,CADM;AAAA,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,CADJ,eAUI,oBAAC,OAAD;AACI,QAAA,EAAE,EAAC,GADP;AACW,QAAA,QAAQ,EAAE,EADrB;AAEI,QAAA,SAAS,EAAC,oDAFd;AAGI,QAAA,OAAO,EAAE,iBAAAF,CAAC;AAAA,iBAAI,MAAI,CAACU,qBAAL,CAA2BV,CAA3B,EAA8BE,mBAA9B,CAAJ;AAAA,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CAVJ,eAkBI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,oBAAD;AAAsB,QAAA,SAAS,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,cAAD;AACI,QAAA,KAAK,MADT;AAEI,QAAA,KAAK,EAAC,OAFV;AAGI,QAAA,IAAI,EAAC,IAHT;AAII,QAAA,SAAS,EAAC,iBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMI;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBb,MAAM,CAACyB,WAAP,EAAxB,CANJ,CADJ,eASI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,KAAK,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKrC,aAAa,CAACsC,GAAd,CAAkB,UAAAC,CAAC,EAAI;AACpB,4BACI,oBAAC,YAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC5B,kBAAL,CAAwB4B,CAAC,CAACC,EAA1B,EAA8BD,CAAC,CAAC1B,SAAhC,CAAN;AAAA,WADb;AAEI,UAAA,GAAG,EAAE0B,CAAC,CAACC,EAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIKD,CAAC,CAACE,IAJP,CADJ;AAQH,OATA,CADL,CATJ,CADJ,CAlBJ,CADJ,eA8CI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKxC,kBAAkB,iBAAI,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD3B,eAGI;AAAK,QAAA,SAAS,EAAC,0CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAHJ,eAOI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,oBAAD;AAAsB,QAAA,SAAS,EAAC,qBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,cAAD;AAAgB,QAAA,SAAS,EAAC,KAA1B;AAAgC,QAAA,KAAK,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKS,KAAL,CAAWgC,SAAX,GAAuB,KAAKhC,KAAL,CAAWgC,SAAX,CAAqBC,SAArB,GAAiC,GAAjC,GAAuC,KAAKjC,KAAL,CAAWgC,SAAX,CAAqBE,QAAnF,GAA8F,EAA3H,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACd;AAAK,QAAA,GAAG,EAAC,SAAT;AAAmB,QAAA,GAAG,EAClB,KAAKlC,KAAL,CAAWgC,SAAX,CAAqBG,WAArB,KAAqCC,SAArC,aACS5C,SADT,4BACoC,KAAKQ,KAAL,CAAWgC,SAAX,CAAqBG,WADzD,IAEM,+BAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADc,CAFJ,CADJ,eAWI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAC,MAAxB;AAA+B,QAAA,KAAK,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAE,KAAKxB,kBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI,oBAAC,YAAD;AAAc,QAAA,OAAO,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,eAGI,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAE,KAAKF,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CAXJ,CADJ,CAPJ,CA9CJ,CADJ;AA8EH;;;;EAjIgBhC,S;;AAoIrB,IAAM4D,eAAe,GAAG,SAAlBA,eAAkB,OAAgC;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,MAAdC,QAAc,QAAdA,QAAc;AAAA,MAC7CzB,mBAD6C,GACmBuB,IADnB,CAC7CvB,mBAD6C;AAAA,MACxBD,cADwB,GACmBwB,IADnB,CACxBxB,cADwB;AAAA,MACRQ,uBADQ,GACmBgB,IADnB,CACRhB,uBADQ;AAAA,MAE7CpB,MAF6C,GAEnCqC,QAFmC,CAE7CrC,MAF6C;AAAA,MAGvC8B,SAHuC,GAG1BQ,QAH0B,CAG7CC,IAH6C;AAIpD,SAAO;AACH1B,IAAAA,mBADG;AAEHD,IAAAA,cAFG;AAGHQ,IAAAA,uBAHG;AAIHpB,IAAAA,MAJG;AAKH8B,IAAAA;AALG,GAAP;AAOH,CAXD;;AAYA,eAAetD,UAAU,CACrBO,OAAO,CACHoD,eADG,EAEH;AAACnD,EAAAA,sBAAD;AAAyBC,EAAAA,iBAAzB;AAA4CC,EAAAA,UAA5C;AAAwDC,EAAAA;AAAxD,CAFG,CAAP,CAGEU,MAHF,CADqB,CAAzB","sourcesContent":["import React, {Component} from \"react\";\r\nimport {injectIntl} from \"react-intl\";\r\nimport {\r\n    UncontrolledDropdown,\r\n    DropdownItem,\r\n    DropdownToggle,\r\n    DropdownMenu,\r\n} from \"reactstrap\";\r\n\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    setContainerClassnames,\r\n    clickOnMobileMenu,\r\n    logoutUser,\r\n    changeLocale\r\n} from \"../../redux/actions\";\r\n\r\nimport {\r\n    localeOptions,\r\n    isDarkSwitchActive,\r\n    mediaPath\r\n} from \"../../constants/defaultValues\";\r\n\r\nimport {MobileMenuIcon, MenuIcon} from \"../../components/svg\";\r\nimport TopnavNotifications from \"./Topnav.Notifications\";\r\nimport TopnavDarkSwitch from \"./Topnav.DarkSwitch\";\r\n\r\nimport {getDirection, setDirection} from \"../../helpers/Utils\";\r\n\r\nclass TopNav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isInFullScreen: false,\r\n            searchKeyword: \"\"\r\n        };\r\n    }\r\n\r\n    handleChangeLocale = (locale, direction) => {\r\n        this.props.changeLocale(locale);\r\n\r\n        const currentDirection = getDirection().direction;\r\n        if (direction !== currentDirection) {\r\n            setDirection(direction);\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 500);\r\n        }\r\n    };\r\n\r\n    handleLogout = () => {\r\n        this.props.logoutUser(this.props.history);\r\n    };\r\n\r\n    handleClickProfile = () => {\r\n        return (<Redirect to=\"/my-site/information\" />)\r\n    }\r\n\r\n    menuButtonClick = (e, menuClickCount, containerClassnames) => {\r\n        e.preventDefault();\r\n\r\n        setTimeout(() => {\r\n            var event = document.createEvent(\"HTMLEvents\");\r\n            event.initEvent(\"resize\", false, false);\r\n            window.dispatchEvent(event);\r\n        }, 350);\r\n        this.props.setContainerClassnames(\r\n            ++menuClickCount,\r\n            containerClassnames,\r\n            this.props.selectedMenuHasSubItems\r\n        );\r\n    };\r\n    mobileMenuButtonClick = (e, containerClassnames) => {\r\n        e.preventDefault();\r\n        this.props.clickOnMobileMenu(containerClassnames);\r\n    };\r\n\r\n    render() {\r\n        const {containerClassnames, menuClickCount, locale} = this.props;\r\n        return (\r\n            <nav className=\"navbar fixed-top\">\r\n                <div className=\"d-flex align-items-center navbar-left\">\r\n                    <NavLink\r\n                        to=\"#\" location={{}}\r\n                        className=\"menu-button d-none d-md-block\"\r\n                        onClick={e =>\r\n                            this.menuButtonClick(e, menuClickCount, containerClassnames)\r\n                        }\r\n                    >\r\n                        <MenuIcon/>\r\n                    </NavLink>\r\n                    <NavLink\r\n                        to=\"#\" location={{}}\r\n                        className=\"menu-button-mobile d-xs-block d-sm-block d-md-none\"\r\n                        onClick={e => this.mobileMenuButtonClick(e, containerClassnames)}\r\n                    >\r\n                        <MobileMenuIcon/>\r\n                    </NavLink>\r\n\r\n                    <div className=\"d-inline-block\">\r\n                        <UncontrolledDropdown className=\"ml-2\">\r\n                            <DropdownToggle\r\n                                caret\r\n                                color=\"light\"\r\n                                size=\"sm\"\r\n                                className=\"language-button\"\r\n                            >\r\n                                <span className=\"name\">{locale.toUpperCase()}</span>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu className=\"mt-3\" right>\r\n                                {localeOptions.map(l => {\r\n                                    return (\r\n                                        <DropdownItem\r\n                                            onClick={() => this.handleChangeLocale(l.id, l.direction)}\r\n                                            key={l.id}\r\n                                        >\r\n                                            {l.name}\r\n                                        </DropdownItem>\r\n                                    );\r\n                                })}\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"navbar-right\">\r\n                    {isDarkSwitchActive && <TopnavDarkSwitch/>}\r\n\r\n                    <div className=\"header-icons d-inline-block align-middle\">\r\n\r\n                        <TopnavNotifications/>\r\n                    </div>\r\n                    <div className=\"user d-inline-block\">\r\n                        <UncontrolledDropdown className=\"dropdown-menu-right\">\r\n                            <DropdownToggle className=\"p-0\" color=\"empty\">\r\n                                <span className=\"name mr-1\">{this.props.loginUser ? this.props.loginUser.firstName + ' ' + this.props.loginUser.lastName : ''}</span>\r\n                                <span>\r\n                  <img alt=\"Profile\" src={\r\n                      this.props.loginUser.companyLogo !== undefined\r\n                          ? `${mediaPath}/company_logos/${this.props.loginUser.companyLogo}`\r\n                          : '/assets/img/profile-pic-l.jpg'\r\n                          }/>\r\n                </span>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu className=\"mt-3\" right>\r\n                                <DropdownItem onClick={this.handleClickProfile}>Profile</DropdownItem>\r\n                                <DropdownItem divider/>\r\n                                <DropdownItem onClick={this.handleLogout}>\r\n                                    Sign out\r\n                                </DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({menu, settings, authUser}) => {\r\n    const {containerClassnames, menuClickCount, selectedMenuHasSubItems} = menu;\r\n    const {locale} = settings;\r\n    const {user: loginUser} = authUser;\r\n    return {\r\n        containerClassnames,\r\n        menuClickCount,\r\n        selectedMenuHasSubItems,\r\n        locale,\r\n        loginUser\r\n    };\r\n};\r\nexport default injectIntl(\r\n    connect(\r\n        mapStateToProps,\r\n        {setContainerClassnames, clickOnMobileMenu, logoutUser, changeLocale}\r\n    )(TopNav)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}