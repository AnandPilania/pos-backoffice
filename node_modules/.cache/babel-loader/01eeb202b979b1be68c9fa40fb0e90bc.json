{"ast":null,"code":"import axios from 'axios';\nimport { servicePath, tokenPrefix } from '../../constants/defaultValues';\nimport errorMessage from '../../constants/errorMessages';\nimport { UPDATE_MENU_APP_COLORS_REQUEST, UPDATE_MENU_APP_COLORS_SUCCESS, UPDATE_MENU_APP_COLORS_FAIL, UPDATE_MENU_APP_LOGO_REQUEST, UPDATE_MENU_APP_LOGO_SUCCESS, UPDATE_MENU_APP_LOGO_FAIL, LOGIN_USER, LOAD_USER_SUCCESS, logoutUser } from '../actions';\nimport authUser from \"../auth/reducer\";\nimport { NotificationManager } from \"../../components/common/react-notifications\";\nexport var updateMenuAppColor = function updateMenuAppColor(payload) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: UPDATE_MENU_APP_COLORS_REQUEST\n    });\n    axios.post(servicePath + \"/user/update-menu-app-colors\", payload, {\n      headers: {\n        'X-API-TOKEN': tokenPrefix + getState().authUser.token\n      }\n    }).then(function (response) {\n      return response.data;\n    }).then(function (data) {\n      console.log(data);\n\n      if (data['message'] === \"\") {\n        localStorage.setItem('user_info', JSON.stringify(data['data']['user']));\n        dispatch({\n          type: UPDATE_MENU_APP_COLORS_SUCCESS\n        });\n      } else {\n        dispatch({\n          type: UPDATE_MENU_APP_COLORS_FAIL\n        });\n      }\n    }).catch(function (error) {\n      dispatch({\n        type: UPDATE_MENU_APP_COLORS_FAIL,\n        payload: error\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/my-site/actions.js"],"names":["axios","servicePath","tokenPrefix","errorMessage","UPDATE_MENU_APP_COLORS_REQUEST","UPDATE_MENU_APP_COLORS_SUCCESS","UPDATE_MENU_APP_COLORS_FAIL","UPDATE_MENU_APP_LOGO_REQUEST","UPDATE_MENU_APP_LOGO_SUCCESS","UPDATE_MENU_APP_LOGO_FAIL","LOGIN_USER","LOAD_USER_SUCCESS","logoutUser","authUser","NotificationManager","updateMenuAppColor","payload","dispatch","getState","type","post","headers","token","then","response","data","console","log","localStorage","setItem","JSON","stringify","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,+BAAvC;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AAEA,SACIC,8BADJ,EAEIC,8BAFJ,EAGIC,2BAHJ,EAIIC,4BAJJ,EAKIC,4BALJ,EAMIC,yBANJ,EAM+BC,UAN/B,EAM2CC,iBAN3C,EAM8DC,UAN9D,QAOO,YAPP;AAQA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAAQC,mBAAR,QAAkC,6CAAlC;AAEA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,OAAD;AAAA,SAAa,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAEnED,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEf;AADD,KAAD,CAAR;AAIAJ,IAAAA,KAAK,CACAoB,IADL,CACUnB,WAAW,GAAG,8BADxB,EACwDe,OADxD,EACiE;AACzDK,MAAAA,OAAO,EAAE;AACL,uBAAenB,WAAW,GAAGgB,QAAQ,GAAGL,QAAX,CAAoBS;AAD5C;AADgD,KADjE,EAMKC,IANL,CAMU,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAb;AAAA,KANlB,EAOKF,IAPL,CAOU,UAAAE,IAAI,EAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAIA,IAAI,CAAC,SAAD,CAAJ,KAAoB,EAAxB,EAA4B;AACxBG,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeN,IAAI,CAAC,MAAD,CAAJ,CAAa,MAAb,CAAf,CAAlC;AACAR,QAAAA,QAAQ,CAAC;AACLE,UAAAA,IAAI,EAAEd;AADD,SAAD,CAAR;AAGH,OALD,MAKO;AACHY,QAAAA,QAAQ,CAAC;AACLE,UAAAA,IAAI,EAAEb;AADD,SAAD,CAAR;AAGH;AAEJ,KApBL,EAqBK0B,KArBL,CAqBW,UAAAC,KAAK,EAAI;AACZhB,MAAAA,QAAQ,CAAC;AACLE,QAAAA,IAAI,EAAEb,2BADD;AAELU,QAAAA,OAAO,EAAEiB;AAFJ,OAAD,CAAR;AAIH,KA1BL;AA2BH,GAjCiC;AAAA,CAA3B","sourcesContent":["import axios from 'axios';\nimport {servicePath, tokenPrefix} from '../../constants/defaultValues';\nimport errorMessage from '../../constants/errorMessages';\n\nimport {\n    UPDATE_MENU_APP_COLORS_REQUEST,\n    UPDATE_MENU_APP_COLORS_SUCCESS,\n    UPDATE_MENU_APP_COLORS_FAIL,\n    UPDATE_MENU_APP_LOGO_REQUEST,\n    UPDATE_MENU_APP_LOGO_SUCCESS,\n    UPDATE_MENU_APP_LOGO_FAIL, LOGIN_USER, LOAD_USER_SUCCESS, logoutUser\n} from '../actions';\nimport authUser from \"../auth/reducer\";\nimport {NotificationManager} from \"../../components/common/react-notifications\";\n\nexport const updateMenuAppColor = (payload) => (dispatch, getState) => {\n\n    dispatch({\n        type: UPDATE_MENU_APP_COLORS_REQUEST\n    });\n\n    axios\n        .post(servicePath + \"/user/update-menu-app-colors\", payload, {\n            headers: {\n                'X-API-TOKEN': tokenPrefix + getState().authUser.token\n            }\n        })\n        .then(response => response.data)\n        .then(data => {\n            console.log(data);\n            if (data['message'] === \"\") {\n                localStorage.setItem('user_info', JSON.stringify(data['data']['user']));\n                dispatch({\n                    type: UPDATE_MENU_APP_COLORS_SUCCESS\n                });\n            } else {\n                dispatch({\n                    type: UPDATE_MENU_APP_COLORS_FAIL\n                });\n            }\n\n        })\n        .catch(error => {\n            dispatch({\n                type: UPDATE_MENU_APP_COLORS_FAIL,\n                payload: error\n            });\n        });\n};"]},"metadata":{},"sourceType":"module"}