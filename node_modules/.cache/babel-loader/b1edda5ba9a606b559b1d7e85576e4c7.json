{"ast":null,"code":"import _classCallCheck from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{connect}from'react-redux';import ReactDOM from'react-dom';import{Nav,NavItem,Collapse}from'reactstrap';import{NavLink}from'react-router-dom';import classnames from'classnames';import PerfectScrollbar from'react-perfect-scrollbar';import{withRouter}from'react-router-dom';import IntlMessages from'../../helpers/IntlMessages';import{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems}from'../../redux/actions';import menuItems from'../../constants/menu';var Sidebar=/*#__PURE__*/function(_Component){_inherits(Sidebar,_Component);var _super=_createSuper(Sidebar);function Sidebar(props){var _this;_classCallCheck(this,Sidebar);_this=_super.call(this,props);_this.handleWindowResize=function(event){if(event&&!event.isTrusted){return;}var containerClassnames=_this.props.containerClassnames;var nextClasses=_this.getMenuClassesForResize(containerClassnames);_this.props.setContainerClassnames(0,nextClasses.join(' '),_this.props.selectedMenuHasSubItems);};_this.handleDocumentClick=function(e){var container=_this.getContainer();var isMenuClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains('menu-button')||e.target.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.classList&&(e.target.parentElement.classList.contains('menu-button')||e.target.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.classList&&(e.target.parentElement.parentElement.classList.contains('menu-button')||e.target.parentElement.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}if(container.contains(e.target)||container===e.target||isMenuClick){return;}_this.setState({viewingParentMenu:''});_this.toggle();};_this.getMenuClassesForResize=function(classes){var _this$props=_this.props,menuHiddenBreakpoint=_this$props.menuHiddenBreakpoint,subHiddenBreakpoint=_this$props.subHiddenBreakpoint;var nextClasses=classes.split(' ').filter(function(x){return x!=='';});var windowWidth=window.innerWidth;if(windowWidth<menuHiddenBreakpoint){nextClasses.push('menu-mobile');}else if(windowWidth<subHiddenBreakpoint){nextClasses=nextClasses.filter(function(x){return x!=='menu-mobile';});if(nextClasses.includes('menu-default')&&!nextClasses.includes('menu-sub-hidden')){nextClasses.push('menu-sub-hidden');}}else{nextClasses=nextClasses.filter(function(x){return x!=='menu-mobile';});if(nextClasses.includes('menu-default')&&nextClasses.includes('menu-sub-hidden')){nextClasses=nextClasses.filter(function(x){return x!=='menu-sub-hidden';});}}return nextClasses;};_this.getContainer=function(){return ReactDOM.findDOMNode(_assertThisInitialized(_this));};_this.toggle=function(){var hasSubItems=_this.getIsHasSubItem();_this.props.changeSelectedMenuHasSubItems(hasSubItems);var _this$props2=_this.props,containerClassnames=_this$props2.containerClassnames,menuClickCount=_this$props2.menuClickCount;var currentClasses=containerClassnames?containerClassnames.split(' ').filter(function(x){return x!=='';}):'';var clickIndex=-1;if(!hasSubItems){if(currentClasses.includes('menu-default')&&(menuClickCount%4===0||menuClickCount%4===3)){clickIndex=1;}else if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===3)){clickIndex=0;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}}else{if(currentClasses.includes('menu-sub-hidden')&&menuClickCount===3){clickIndex=2;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}}if(clickIndex>=0){_this.props.setContainerClassnames(clickIndex,containerClassnames,hasSubItems);}};_this.handleProps=function(){_this.addEvents();};_this.addEvents=function(){['click','touchstart','touchend'].forEach(function(event){return document.addEventListener(event,_this.handleDocumentClick,true);});};_this.removeEvents=function(){['click','touchstart','touchend'].forEach(function(event){return document.removeEventListener(event,_this.handleDocumentClick,true);});};_this.setSelectedLiActive=function(callback){var oldli=document.querySelector('.sub-menu  li.active');if(oldli!=null){oldli.classList.remove('active');}var oldliSub=document.querySelector('.third-level-menu  li.active');if(oldliSub!=null){oldliSub.classList.remove('active');}/* set selected parent menu */var selectedSublink=document.querySelector('.third-level-menu  a.active');if(selectedSublink!=null){selectedSublink.parentElement.classList.add('active');}var selectedlink=document.querySelector('.sub-menu  a.active');if(selectedlink!=null){selectedlink.parentElement.classList.add('active');_this.setState({selectedParentMenu:selectedlink.parentElement.parentElement.getAttribute('data-parent')},callback);}else{var selectedParentNoSubItem=document.querySelector('.main-menu  li a.active');if(selectedParentNoSubItem!=null){_this.setState({selectedParentMenu:selectedParentNoSubItem.getAttribute('data-flag')},callback);}else if(_this.state.selectedParentMenu===''){_this.setState({selectedParentMenu:menuItems[0].id},callback);}}};_this.setHasSubItemStatus=function(){var hasSubmenu=_this.getIsHasSubItem();_this.props.changeSelectedMenuHasSubItems(hasSubmenu);_this.toggle();};_this.getIsHasSubItem=function(){var selectedParentMenu=_this.state.selectedParentMenu;var menuItem=menuItems.find(function(x){return x.id===selectedParentMenu;});if(menuItem)return menuItem&&menuItem.subs&&menuItem.subs.length>0?true:false;else return false;};_this.openSubMenu=function(e,menuItem){var selectedParent=menuItem.id;var hasSubMenu=menuItem.subs&&menuItem.subs.length>0;_this.props.changeSelectedMenuHasSubItems(hasSubMenu);if(!hasSubMenu){_this.setState({viewingParentMenu:selectedParent,selectedParentMenu:selectedParent});_this.toggle();}else{e.preventDefault();var _this$props3=_this.props,containerClassnames=_this$props3.containerClassnames,menuClickCount=_this$props3.menuClickCount;var currentClasses=containerClassnames?containerClassnames.split(' ').filter(function(x){return x!=='';}):'';if(!currentClasses.includes('menu-mobile')){if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===0)){_this.props.setContainerClassnames(3,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-hidden')&&(menuClickCount===1||menuClickCount===3)){_this.props.setContainerClassnames(2,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-default')&&!currentClasses.includes('menu-sub-hidden')&&(menuClickCount===1||menuClickCount===3)){_this.props.setContainerClassnames(0,containerClassnames,hasSubMenu);}}else{_this.props.addContainerClassname('sub-show-temporary',containerClassnames);}_this.setState({viewingParentMenu:selectedParent});}};_this.toggleMenuCollapse=function(e,menuKey){e.preventDefault();var collapsedMenus=_this.state.collapsedMenus;if(collapsedMenus.indexOf(menuKey)>-1){_this.setState({collapsedMenus:collapsedMenus.filter(function(x){return x!==menuKey;})});}else{collapsedMenus.push(menuKey);_this.setState({collapsedMenus});}return false;};_this.state={selectedParentMenu:'',viewingParentMenu:'',collapsedMenus:[]};return _this;}_createClass(Sidebar,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname){this.setSelectedLiActive(this.setHasSubItemStatus);window.scrollTo(0,0);}this.handleProps();}},{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('resize',this.handleWindowResize);this.handleWindowResize();this.handleProps();this.setSelectedLiActive(this.setHasSubItemStatus);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeEvents();window.removeEventListener('resize',this.handleWindowResize);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,selectedParentMenu=_this$state.selectedParentMenu,viewingParentMenu=_this$state.viewingParentMenu,collapsedMenus=_this$state.collapsedMenus;return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},/*#__PURE__*/React.createElement(Nav,{vertical:true,className:\"list-unstyled\"},menuItems&&menuItems.map(function(item){return/*#__PURE__*/React.createElement(NavItem,{key:item.id,className:classnames({active:selectedParentMenu===item.id&&viewingParentMenu===''||viewingParentMenu===item.id})},item.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:item.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})):/*#__PURE__*/React.createElement(NavLink,{to:item.to,onClick:function onClick(e){return _this2.openSubMenu(e,item);},\"data-flag\":item.id},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})));}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},menuItems&&menuItems.map(function(item){return/*#__PURE__*/React.createElement(Nav,{key:item.id,className:classnames({'d-block':_this2.state.selectedParentMenu===item.id&&_this2.state.viewingParentMenu===''||_this2.state.viewingParentMenu===item.id}),\"data-parent\":item.id},item.subs&&item.subs.map(function(sub,index){return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index),className:\"\".concat(sub.subs&&sub.subs.length>0?'has-sub-item':'')},sub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:sub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})):sub.subs&&sub.subs.length>0?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{className:\"rotate-arrow-icon opacity-50 \".concat(collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1?'':'collapsed'),to:sub.to,id:\"\".concat(item.id,\"_\").concat(index),onClick:function onClick(e){return _this2.toggleMenuCollapse(e,\"\".concat(item.id,\"_\").concat(index));}},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-arrow-down\"}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})),/*#__PURE__*/React.createElement(Collapse,{isOpen:collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1},/*#__PURE__*/React.createElement(Nav,{className:\"third-level-menu\"},sub.subs.map(function(thirdSub,thirdIndex){return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index,\"_\").concat(thirdIndex)},thirdSub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:thirdSub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})):/*#__PURE__*/React.createElement(NavLink,{to:thirdSub.to},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})));})))):/*#__PURE__*/React.createElement(NavLink,{to:sub.to},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})));}));})))));}}]);return Sidebar;}(Component);var mapStateToProps=function mapStateToProps(_ref){var menu=_ref.menu;var containerClassnames=menu.containerClassnames,subHiddenBreakpoint=menu.subHiddenBreakpoint,menuHiddenBreakpoint=menu.menuHiddenBreakpoint,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;return{containerClassnames,subHiddenBreakpoint,menuHiddenBreakpoint,menuClickCount,selectedMenuHasSubItems};};export default withRouter(connect(mapStateToProps,{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems})(Sidebar));","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/containers/navs/Sidebar.js"],"names":["React","Component","Fragment","connect","ReactDOM","Nav","NavItem","Collapse","NavLink","classnames","PerfectScrollbar","withRouter","IntlMessages","setContainerClassnames","addContainerClassname","changeDefaultClassnames","changeSelectedMenuHasSubItems","menuItems","Sidebar","props","handleWindowResize","event","isTrusted","containerClassnames","nextClasses","getMenuClassesForResize","join","selectedMenuHasSubItems","handleDocumentClick","e","container","getContainer","isMenuClick","target","classList","contains","parentElement","setState","viewingParentMenu","toggle","classes","menuHiddenBreakpoint","subHiddenBreakpoint","split","filter","x","windowWidth","window","innerWidth","push","includes","findDOMNode","hasSubItems","getIsHasSubItem","menuClickCount","currentClasses","clickIndex","handleProps","addEvents","forEach","document","addEventListener","removeEvents","removeEventListener","setSelectedLiActive","callback","oldli","querySelector","remove","oldliSub","selectedSublink","add","selectedlink","selectedParentMenu","getAttribute","selectedParentNoSubItem","state","id","setHasSubItemStatus","hasSubmenu","menuItem","find","subs","length","openSubMenu","selectedParent","hasSubMenu","preventDefault","toggleMenuCollapse","menuKey","collapsedMenus","indexOf","prevProps","location","pathname","scrollTo","suppressScrollX","wheelPropagation","map","item","active","newWindow","to","icon","label","sub","index","thirdSub","thirdIndex","mapStateToProps","menu"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { Nav, NavItem, Collapse } from 'reactstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport IntlMessages from '../../helpers/IntlMessages';\r\n\r\nimport {\r\n  setContainerClassnames,\r\n  addContainerClassname,\r\n  changeDefaultClassnames,\r\n  changeSelectedMenuHasSubItems\r\n} from '../../redux/actions';\r\n\r\nimport menuItems from '../../constants/menu';\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedParentMenu: '',\r\n      viewingParentMenu: '',\r\n      collapsedMenus: []\r\n    };\r\n  }\r\n\r\n  handleWindowResize = event => {\r\n    if (event && !event.isTrusted) {\r\n      return;\r\n    }\r\n    const { containerClassnames } = this.props;\r\n    let nextClasses = this.getMenuClassesForResize(containerClassnames);\r\n    this.props.setContainerClassnames(\r\n      0,\r\n      nextClasses.join(' '),\r\n      this.props.selectedMenuHasSubItems\r\n    );\r\n  };\r\n\r\n  handleDocumentClick = e => {\r\n    const container = this.getContainer();\r\n    let isMenuClick = false;\r\n    if (\r\n      e.target &&\r\n      e.target.classList &&\r\n      (e.target.classList.contains('menu-button') ||\r\n        e.target.classList.contains('menu-button-mobile'))\r\n    ) {\r\n      isMenuClick = true;\r\n    } else if (\r\n      e.target.parentElement &&\r\n      e.target.parentElement.classList &&\r\n      (e.target.parentElement.classList.contains('menu-button') ||\r\n        e.target.parentElement.classList.contains('menu-button-mobile'))\r\n    ) {\r\n      isMenuClick = true;\r\n    } else if (\r\n      e.target.parentElement &&\r\n      e.target.parentElement.parentElement &&\r\n      e.target.parentElement.parentElement.classList &&\r\n      (e.target.parentElement.parentElement.classList.contains('menu-button') ||\r\n        e.target.parentElement.parentElement.classList.contains(\r\n          'menu-button-mobile'\r\n        ))\r\n    ) {\r\n      isMenuClick = true;\r\n    }\r\n    if (container.contains(e.target) || container === e.target || isMenuClick) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      viewingParentMenu: ''\r\n    });\r\n    this.toggle();\r\n  };\r\n\r\n  getMenuClassesForResize = classes => {\r\n    const { menuHiddenBreakpoint, subHiddenBreakpoint } = this.props;\r\n    let nextClasses = classes.split(' ').filter(x => x !== '');\r\n    const windowWidth = window.innerWidth;\r\n    if (windowWidth < menuHiddenBreakpoint) {\r\n      nextClasses.push('menu-mobile');\r\n    } else if (windowWidth < subHiddenBreakpoint) {\r\n      nextClasses = nextClasses.filter(x => x !== 'menu-mobile');\r\n      if (\r\n        nextClasses.includes('menu-default') &&\r\n        !nextClasses.includes('menu-sub-hidden')\r\n      ) {\r\n        nextClasses.push('menu-sub-hidden');\r\n      }\r\n    } else {\r\n      nextClasses = nextClasses.filter(x => x !== 'menu-mobile');\r\n      if (\r\n        nextClasses.includes('menu-default') &&\r\n        nextClasses.includes('menu-sub-hidden')\r\n      ) {\r\n        nextClasses = nextClasses.filter(x => x !== 'menu-sub-hidden');\r\n      }\r\n    }\r\n    return nextClasses;\r\n  };\r\n\r\n  getContainer = () => {\r\n    return ReactDOM.findDOMNode(this);\r\n  };\r\n\r\n  toggle = () => {\r\n    const hasSubItems = this.getIsHasSubItem();\r\n    this.props.changeSelectedMenuHasSubItems(hasSubItems);\r\n    const { containerClassnames, menuClickCount } = this.props;\r\n    const currentClasses = containerClassnames\r\n      ? containerClassnames.split(' ').filter(x => x !== '')\r\n      : '';\r\n    let clickIndex = -1;\r\n\r\n    if (!hasSubItems) {\r\n      if (\r\n        currentClasses.includes('menu-default') &&\r\n        (menuClickCount % 4 === 0 || menuClickCount % 4 === 3)\r\n      ) {\r\n        clickIndex = 1;\r\n      } else if (\r\n        currentClasses.includes('menu-sub-hidden') &&\r\n        (menuClickCount === 2 || menuClickCount === 3)\r\n      ) {\r\n        clickIndex = 0;\r\n      } else if (\r\n        currentClasses.includes('menu-hidden') ||\r\n        currentClasses.includes('menu-mobile')\r\n      ) {\r\n        clickIndex = 0;\r\n      }\r\n    } else {\r\n      if (currentClasses.includes('menu-sub-hidden') && menuClickCount === 3) {\r\n        clickIndex = 2;\r\n      } else if (\r\n        currentClasses.includes('menu-hidden') ||\r\n        currentClasses.includes('menu-mobile')\r\n      ) {\r\n        clickIndex = 0;\r\n      }\r\n    }\r\n    if (clickIndex >= 0) {\r\n      this.props.setContainerClassnames(\r\n        clickIndex,\r\n        containerClassnames,\r\n        hasSubItems\r\n      );\r\n    }\r\n  };\r\n\r\n  handleProps = () => {\r\n    this.addEvents();\r\n  };\r\n\r\n  addEvents = () => {\r\n    ['click', 'touchstart', 'touchend'].forEach(event =>\r\n      document.addEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n\r\n  removeEvents = () => {\r\n    ['click', 'touchstart', 'touchend'].forEach(event =>\r\n      document.removeEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n\r\n  setSelectedLiActive = callback => {\r\n    const oldli = document.querySelector('.sub-menu  li.active');\r\n    if (oldli != null) {\r\n      oldli.classList.remove('active');\r\n    }\r\n\r\n    const oldliSub = document.querySelector('.third-level-menu  li.active');\r\n    if (oldliSub != null) {\r\n      oldliSub.classList.remove('active');\r\n    }\r\n\r\n    /* set selected parent menu */\r\n    const selectedSublink = document.querySelector('.third-level-menu  a.active');\r\n    if (selectedSublink != null) {\r\n      selectedSublink.parentElement.classList.add('active');\r\n    }\r\n\r\n    const selectedlink = document.querySelector('.sub-menu  a.active');\r\n    if (selectedlink != null) {\r\n      selectedlink.parentElement.classList.add('active');\r\n      this.setState(\r\n        {\r\n          selectedParentMenu: selectedlink.parentElement.parentElement.getAttribute(\r\n            'data-parent'\r\n          )\r\n        },\r\n        callback\r\n      );\r\n    } else {\r\n      var selectedParentNoSubItem = document.querySelector(\r\n        '.main-menu  li a.active'\r\n      );\r\n      if (selectedParentNoSubItem != null) {\r\n        this.setState(\r\n          {\r\n            selectedParentMenu: selectedParentNoSubItem.getAttribute(\r\n              'data-flag'\r\n            )\r\n          },\r\n          callback\r\n        );\r\n      } else if (this.state.selectedParentMenu === '') {\r\n        this.setState(\r\n          {\r\n            selectedParentMenu: menuItems[0].id\r\n          },\r\n          callback\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  setHasSubItemStatus = () => {\r\n    const hasSubmenu = this.getIsHasSubItem();\r\n    this.props.changeSelectedMenuHasSubItems(hasSubmenu);\r\n    this.toggle();\r\n  };\r\n\r\n  getIsHasSubItem = () => {\r\n    const { selectedParentMenu } = this.state;\r\n    const menuItem = menuItems.find(x => x.id === selectedParentMenu);\r\n    if (menuItem)\r\n      return menuItem && menuItem.subs && menuItem.subs.length > 0\r\n        ? true\r\n        : false;\r\n    else return false;\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      this.setSelectedLiActive(this.setHasSubItemStatus);\r\n\r\n      window.scrollTo(0, 0);\r\n    }\r\n    this.handleProps();\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.handleWindowResize);\r\n    this.handleWindowResize();\r\n    this.handleProps();\r\n    this.setSelectedLiActive(this.setHasSubItemStatus);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvents();\r\n    window.removeEventListener('resize', this.handleWindowResize);\r\n  }\r\n\r\n  openSubMenu = (e, menuItem) => {\r\n    const selectedParent = menuItem.id;\r\n    const hasSubMenu = menuItem.subs && menuItem.subs.length > 0;\r\n    this.props.changeSelectedMenuHasSubItems(hasSubMenu);\r\n    if (!hasSubMenu) {\r\n      this.setState({\r\n        viewingParentMenu: selectedParent,\r\n        selectedParentMenu: selectedParent\r\n      });\r\n      this.toggle();\r\n    } else {\r\n      e.preventDefault();\r\n\r\n      const { containerClassnames, menuClickCount } = this.props;\r\n      const currentClasses = containerClassnames\r\n        ? containerClassnames.split(' ').filter(x => x !== '')\r\n        : '';\r\n\r\n      if (!currentClasses.includes('menu-mobile')) {\r\n        if (\r\n          currentClasses.includes('menu-sub-hidden') &&\r\n          (menuClickCount === 2 || menuClickCount === 0)\r\n        ) {\r\n          this.props.setContainerClassnames(3, containerClassnames, hasSubMenu);\r\n        } else if (\r\n          currentClasses.includes('menu-hidden') &&\r\n          (menuClickCount === 1 || menuClickCount === 3)\r\n        ) {\r\n          this.props.setContainerClassnames(2, containerClassnames, hasSubMenu);\r\n        } else if (\r\n          currentClasses.includes('menu-default') &&\r\n          !currentClasses.includes('menu-sub-hidden') &&\r\n          (menuClickCount === 1 || menuClickCount === 3)\r\n        ) {\r\n          this.props.setContainerClassnames(0, containerClassnames, hasSubMenu);\r\n        }\r\n      } else {\r\n        this.props.addContainerClassname(\r\n          'sub-show-temporary',\r\n          containerClassnames\r\n        );\r\n      }\r\n      this.setState({\r\n        viewingParentMenu: selectedParent\r\n      });\r\n    }\r\n  };\r\n\r\n  toggleMenuCollapse = (e, menuKey) => {\r\n    e.preventDefault();\r\n\r\n    let collapsedMenus = this.state.collapsedMenus;\r\n    if (collapsedMenus.indexOf(menuKey) > -1) {\r\n      this.setState({\r\n        collapsedMenus: collapsedMenus.filter(x => x !== menuKey)\r\n      });\r\n    } else {\r\n      collapsedMenus.push(menuKey);\r\n      this.setState({\r\n        collapsedMenus\r\n      });\r\n    }\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      selectedParentMenu,\r\n      viewingParentMenu,\r\n      collapsedMenus\r\n    } = this.state;\r\n    return (\r\n      <div className=\"sidebar\">\r\n        <div className=\"main-menu\">\r\n          <div className=\"scroll\">\r\n            <PerfectScrollbar\r\n              options={{ suppressScrollX: true, wheelPropagation: false }}\r\n            >\r\n              <Nav vertical className=\"list-unstyled\">\r\n                {menuItems &&\r\n                  menuItems.map(item => {\r\n                    return (\r\n                      <NavItem\r\n                        key={item.id}\r\n                        className={classnames({\r\n                          active:\r\n                            (selectedParentMenu === item.id &&\r\n                              viewingParentMenu === '') ||\r\n                            viewingParentMenu === item.id\r\n                        })}\r\n                      >\r\n                        {item.newWindow ? (\r\n                          <a\r\n                            href={item.to}\r\n                            rel=\"noopener noreferrer\"\r\n                            target=\"_blank\"\r\n                          >\r\n                            <i className={item.icon} />{' '}\r\n                            <IntlMessages id={item.label} />\r\n                          </a>\r\n                        ) : (\r\n                          <NavLink\r\n                            to={item.to}\r\n                            onClick={e => this.openSubMenu(e, item)}\r\n                            data-flag={item.id}\r\n                          >\r\n                            <i className={item.icon} />{' '}\r\n                            <IntlMessages id={item.label} />\r\n                          </NavLink>\r\n                        )}\r\n                      </NavItem>\r\n                    );\r\n                  })}\r\n              </Nav>\r\n            </PerfectScrollbar>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sub-menu\">\r\n          <div className=\"scroll\">\r\n            <PerfectScrollbar\r\n              options={{ suppressScrollX: true, wheelPropagation: false }}\r\n            >\r\n              {menuItems &&\r\n                menuItems.map(item => {\r\n                  return (\r\n                    <Nav\r\n                      key={item.id}\r\n                      className={classnames({\r\n                        'd-block':\r\n                          (this.state.selectedParentMenu === item.id &&\r\n                            this.state.viewingParentMenu === '') ||\r\n                          this.state.viewingParentMenu === item.id\r\n                      })}\r\n                      data-parent={item.id}\r\n                    >\r\n                      {item.subs &&\r\n                        item.subs.map((sub, index) => {\r\n                          return (\r\n                            <NavItem\r\n                              key={`${item.id}_${index}`}\r\n                              className={`${\r\n                                sub.subs && sub.subs.length > 0\r\n                                  ? 'has-sub-item'\r\n                                  : ''\r\n                              }`}\r\n                            >\r\n                              {sub.newWindow ? (\r\n                                <a\r\n                                  href={sub.to}\r\n                                  rel=\"noopener noreferrer\"\r\n                                  target=\"_blank\"\r\n                                >\r\n                                  <i className={sub.icon} />{' '}\r\n                                  <IntlMessages id={sub.label} />\r\n                                </a>\r\n                              ) : sub.subs && sub.subs.length > 0 ? (\r\n                                <Fragment>\r\n                                  <NavLink\r\n                                    className={`rotate-arrow-icon opacity-50 ${\r\n                                      collapsedMenus.indexOf(\r\n                                        `${item.id}_${index}`\r\n                                      ) === -1\r\n                                        ? ''\r\n                                        : 'collapsed'\r\n                                    }`}\r\n                                    to={sub.to}\r\n                                    id={`${item.id}_${index}`}\r\n                                    onClick={e =>\r\n                                      this.toggleMenuCollapse(\r\n                                        e,\r\n                                        `${item.id}_${index}`\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <i className=\"simple-icon-arrow-down\" />{' '}\r\n                                    <IntlMessages id={sub.label} />\r\n                                  </NavLink>\r\n\r\n                                  <Collapse\r\n                                    isOpen={\r\n                                      collapsedMenus.indexOf(\r\n                                        `${item.id}_${index}`\r\n                                      ) === -1\r\n                                    }\r\n                                  >\r\n                                    <Nav className=\"third-level-menu\">\r\n                                      {sub.subs.map((thirdSub, thirdIndex) => {\r\n                                        return (\r\n                                          <NavItem\r\n                                            key={`${\r\n                                              item.id\r\n                                            }_${index}_${thirdIndex}`}\r\n                                          >\r\n                                            {thirdSub.newWindow ? (\r\n                                              <a\r\n                                                href={thirdSub.to}\r\n                                                rel=\"noopener noreferrer\"\r\n                                                target=\"_blank\"\r\n                                              >\r\n                                                <i className={thirdSub.icon} />{' '}\r\n                                                <IntlMessages\r\n                                                  id={thirdSub.label}\r\n                                                />\r\n                                              </a>\r\n                                            ) : (\r\n                                              <NavLink to={thirdSub.to}>\r\n                                                <i className={thirdSub.icon} />{' '}\r\n                                                <IntlMessages\r\n                                                  id={thirdSub.label}\r\n                                                />\r\n                                              </NavLink>\r\n                                            )}\r\n                                          </NavItem>\r\n                                        );\r\n                                      })}\r\n                                    </Nav>\r\n                                  </Collapse>\r\n                                </Fragment>\r\n                              ) : (\r\n                                <NavLink to={sub.to}>\r\n                                  <i className={sub.icon} />{' '}\r\n                                  <IntlMessages id={sub.label} />\r\n                                </NavLink>\r\n                              )}\r\n                            </NavItem>\r\n                          );\r\n                        })}\r\n                    </Nav>\r\n                  );\r\n                })}\r\n            </PerfectScrollbar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ menu }) => {\r\n  const {\r\n    containerClassnames,\r\n    subHiddenBreakpoint,\r\n    menuHiddenBreakpoint,\r\n    menuClickCount,\r\n    selectedMenuHasSubItems\r\n  } = menu;\r\n  return {\r\n    containerClassnames,\r\n    subHiddenBreakpoint,\r\n    menuHiddenBreakpoint,\r\n    menuClickCount,\r\n    selectedMenuHasSubItems\r\n  };\r\n};\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      setContainerClassnames,\r\n      addContainerClassname,\r\n      changeDefaultClassnames,\r\n      changeSelectedMenuHasSubItems\r\n    }\r\n  )(Sidebar)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}