{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{LOAD_PRODUCT_SUCCESS,LOAD_PRODUCT_FAIL,TOGGLE_PRODUCT_STATE,TOGGLE_PRODUCT_STATE_SUCCESS,TOGGLE_PRODUCT_STATE_FAIL,CHANGE_PRODUCTS_STATE_SUCCESS,CHANGE_PRODUCTS_STATE_FAIL}from\"../actions\";import axios from\"axios\";import{tokenPrefix,servicePath}from\"../../constants/defaultValues\";export var getProduct=function getProduct(pageInfo){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",axios.get(\"\".concat(servicePath,\"/products/paging\"),{params:{pageSize:pageInfo.selectedPageSize,currentPage:pageInfo.currentPage,orderBy:pageInfo.selectedOrderOption.column,search:pageInfo.search},headers:{'X-API-TOKEN':tokenPrefix+getState().authUser.token}}).then(function(res){return res.data['data'];}).then(function(data){dispatch({type:LOAD_PRODUCT_SUCCESS,payload:data});return true;}).catch(function(error){dispatch({type:LOAD_PRODUCT_FAIL});return false;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var toggleProductState=function toggleProductState(productId){return function(dispatch,getState){dispatch({type:TOGGLE_PRODUCT_STATE,payload:[productId]});axios.post(servicePath+\"/products/toggleActive\",{productId},{headers:{'X-API-TOKEN':tokenPrefix+getState().authUser.token}}).then(function(response){return response['data'];}).then(function(data){if(data['message']===\"\"){dispatch({type:TOGGLE_PRODUCT_STATE_SUCCESS,payload:productId});}else{dispatch({type:TOGGLE_PRODUCT_STATE_FAIL});}}).catch(function(error){dispatch({type:TOGGLE_PRODUCT_STATE_FAIL});});};};export var changeProductsState=function changeProductsState(productIds,state){return function(dispatch,getState){dispatch({type:TOGGLE_PRODUCT_STATE,payload:productIds});axios.post(servicePath+\"/products/changeState\",{productIds:JSON.stringify(productIds),state},{headers:{'X-API-TOKEN':tokenPrefix+getState().authUser.token}}).then(function(response){return response['data'];}).then(function(data){if(data['message']===\"\"){dispatch({type:CHANGE_PRODUCTS_STATE_SUCCESS,payload:{productIds,state}});}else{dispatch({type:CHANGE_PRODUCTS_STATE_FAIL});}}).catch(function(error){dispatch({type:CHANGE_PRODUCTS_STATE_FAIL});});};};export var deleteProducts=function deleteProducts(productIds){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",axios.delete(\"\".concat(servicePath,\"/products/delete\"),{data:{productIds:JSON.stringify(productIds)},headers:{'X-API-TOKEN':tokenPrefix+getState().authUser.token}}).then(function(res){return res.data['data'];}).then(function(data){return true;}).catch(function(error){return false;}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/products/actions.js"],"names":["LOAD_PRODUCT_SUCCESS","LOAD_PRODUCT_FAIL","TOGGLE_PRODUCT_STATE","TOGGLE_PRODUCT_STATE_SUCCESS","TOGGLE_PRODUCT_STATE_FAIL","CHANGE_PRODUCTS_STATE_SUCCESS","CHANGE_PRODUCTS_STATE_FAIL","axios","tokenPrefix","servicePath","getProduct","pageInfo","dispatch","getState","get","params","pageSize","selectedPageSize","currentPage","orderBy","selectedOrderOption","column","search","headers","authUser","token","then","res","data","type","payload","catch","error","toggleProductState","productId","post","response","changeProductsState","productIds","state","JSON","stringify","deleteProducts","delete"],"mappings":"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","sourcesContent":["import {\n    LOAD_PRODUCT_SUCCESS,\n    LOAD_PRODUCT_FAIL,\n    TOGGLE_PRODUCT_STATE,\n    TOGGLE_PRODUCT_STATE_SUCCESS,\n    TOGGLE_PRODUCT_STATE_FAIL,\n    CHANGE_PRODUCTS_STATE_SUCCESS,\n    CHANGE_PRODUCTS_STATE_FAIL\n} from \"../actions\";\nimport axios from \"axios\";\nimport {tokenPrefix, servicePath} from \"../../constants/defaultValues\";\n\nexport const getProduct = (pageInfo) => async (dispatch, getState) => {\n    return axios\n        .get(\n            `${servicePath}/products/paging`, {\n                params: {\n                    pageSize: pageInfo.selectedPageSize,\n                    currentPage: pageInfo.currentPage,\n                    orderBy: pageInfo.selectedOrderOption.column,\n                    search: pageInfo.search\n                },\n                headers: {\n                    'X-API-TOKEN': tokenPrefix + getState().authUser.token\n                }\n            }\n        )\n        .then(res => res.data['data'])\n        .then(data => {\n            dispatch({\n                type: LOAD_PRODUCT_SUCCESS,\n                payload: data\n            });\n            return true;\n        })\n        .catch(error => {\n            dispatch({\n                type: LOAD_PRODUCT_FAIL,\n            });\n            return false;\n        });\n}\n\nexport const toggleProductState = (productId) => (dispatch, getState) => {\n    dispatch({\n        type: TOGGLE_PRODUCT_STATE,\n        payload: [productId]\n    });\n    axios\n        .post(servicePath + \"/products/toggleActive\", {\n            productId\n        }, {\n            headers: {\n                'X-API-TOKEN': tokenPrefix + getState().authUser.token\n            }\n        })\n        .then(response => response['data'])\n        .then(data => {\n            if (data['message'] === \"\") {\n                dispatch({\n                    type: TOGGLE_PRODUCT_STATE_SUCCESS,\n                    payload: productId\n                });\n            } else {\n                dispatch({\n                    type: TOGGLE_PRODUCT_STATE_FAIL\n                });\n            }\n\n        })\n        .catch(error => {\n            dispatch({\n                type: TOGGLE_PRODUCT_STATE_FAIL\n            });\n        });\n}\n\nexport const changeProductsState = (productIds, state) => (dispatch, getState) => {\n    dispatch({\n        type: TOGGLE_PRODUCT_STATE,\n        payload: productIds\n    });\n    axios\n        .post(servicePath + \"/products/changeState\", {\n            productIds: JSON.stringify(productIds),\n            state\n        }, {\n            headers: {\n                'X-API-TOKEN': tokenPrefix + getState().authUser.token\n            }\n        })\n        .then(response => response['data'])\n        .then(data => {\n            if (data['message'] === \"\") {\n                dispatch({\n                    type: CHANGE_PRODUCTS_STATE_SUCCESS,\n                    payload: {\n                        productIds,\n                        state\n                    }\n                });\n            } else {\n                dispatch({\n                    type: CHANGE_PRODUCTS_STATE_FAIL\n                });\n            }\n\n        })\n        .catch(error => {\n            dispatch({\n                type: CHANGE_PRODUCTS_STATE_FAIL\n            });\n        });\n}\n\nexport const deleteProducts = (productIds) => async (dispatch, getState) => {\n    return axios\n        .delete(\n            `${servicePath}/products/delete`, {\n                data: {\n                    productIds: JSON.stringify(productIds)\n                },\n                headers: {\n                    'X-API-TOKEN': tokenPrefix + getState().authUser.token\n                }\n            }\n        )\n        .then(res => {\n            return res.data['data'];\n        })\n        .then(data => {\n            return true;\n        })\n        .catch(error => {\n            return false;\n        });\n}"]},"metadata":{},"sourceType":"module"}