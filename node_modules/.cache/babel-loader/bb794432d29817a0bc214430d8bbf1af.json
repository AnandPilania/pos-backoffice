{"ast":null,"code":"import _classCallCheck from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Switch from\"rc-switch\";import\"rc-switch/assets/index.css\";import{Tooltip}from\"reactstrap\";import{defaultColor,themeColorStorageKey}from\"../../constants/defaultValues\";var TopnavDarkSwitch=/*#__PURE__*/function(_Component){_inherits(TopnavDarkSwitch,_Component);var _super=_createSuper(TopnavDarkSwitch);function TopnavDarkSwitch(props){var _this;_classCallCheck(this,TopnavDarkSwitch);_this=_super.call(this,props);_this.toggle=function(){_this.setState(function(prevState){return{tooltipOpen:!prevState.tooltipOpen};});};_this.getColor=function(){return localStorage.getItem(themeColorStorageKey)?localStorage.getItem(themeColorStorageKey):defaultColor;};_this.changeMode=function(){var color=_this.getColor();if(color.indexOf('dark')>-1){color=color.replace('dark','light');}else if(color.indexOf('light')>-1){color=color.replace('light','dark');}_this.setState({switchChecked:color.indexOf('dark')>-1},function(){localStorage.setItem(themeColorStorageKey,color);setTimeout(function(){window.location.reload();},500);});};_this.state={switchChecked:false,tooltipOpen:false};return _this;}_createClass(TopnavDarkSwitch,[{key:\"componentDidMount\",value:function componentDidMount(){var color=this.getColor();this.setState({switchChecked:color.indexOf('dark')>-1});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-none d-md-inline-block align-middle mr-3\"},/*#__PURE__*/React.createElement(Switch,{id:\"Tooltip-Switch\",className:\"custom-switch custom-switch-primary custom-switch-small\",checked:this.state.switchChecked,onChange:this.changeMode}),/*#__PURE__*/React.createElement(Tooltip,{placement:\"left\",isOpen:this.state.tooltipOpen,target:\"Tooltip-Switch\",toggle:this.toggle},\"Dark Mode\"));}}]);return TopnavDarkSwitch;}(Component);export{TopnavDarkSwitch as default};","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/containers/navs/Topnav.DarkSwitch.js"],"names":["React","Component","Switch","Tooltip","defaultColor","themeColorStorageKey","TopnavDarkSwitch","props","toggle","setState","prevState","tooltipOpen","getColor","localStorage","getItem","changeMode","color","indexOf","replace","switchChecked","setItem","setTimeout","window","location","reload","state"],"mappings":"gzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAO,4BAAP,CACA,OAASC,OAAT,KAAwB,YAAxB,CAEA,OAASC,YAAT,CAAsBC,oBAAtB,KAAkD,+BAAlD,C,GAEqBC,CAAAA,gB,oHACnB,0BAAYC,KAAZ,CAAmB,kDACjB,uBAAMA,KAAN,EADiB,MAcnBC,MAdmB,CAcV,UAAM,CACb,MAAKC,QAAL,CAAc,SAAAC,SAAS,QAAK,CAC1BC,WAAW,CAAE,CAACD,SAAS,CAACC,WADE,CAAL,EAAvB,EAGD,CAlBkB,OAoBnBC,QApBmB,CAoBR,UAAM,CACf,MAAOC,CAAAA,YAAY,CAACC,OAAb,CAAqBT,oBAArB,EACHQ,YAAY,CAACC,OAAb,CAAqBT,oBAArB,CADG,CAEHD,YAFJ,CAGD,CAxBkB,OAyBnBW,UAzBmB,CAyBN,UAAM,CACjB,GAAIC,CAAAA,KAAK,CAAG,MAAKJ,QAAL,EAAZ,CAEA,GAAGI,KAAK,CAACC,OAAN,CAAc,MAAd,EAAsB,CAAC,CAA1B,CAA4B,CACxBD,KAAK,CAAEA,KAAK,CAACE,OAAN,CAAc,MAAd,CAAqB,OAArB,CAAP,CACH,CAFD,IAEM,IAAGF,KAAK,CAACC,OAAN,CAAc,OAAd,EAAuB,CAAC,CAA3B,CAA6B,CAC/BD,KAAK,CAAEA,KAAK,CAACE,OAAN,CAAc,OAAd,CAAsB,MAAtB,CAAP,CACH,CAED,MAAKT,QAAL,CAAc,CACVU,aAAa,CAACH,KAAK,CAACC,OAAN,CAAc,MAAd,EAAsB,CAAC,CAD3B,CAAd,CAEI,UAAI,CACFJ,YAAY,CAACO,OAAb,CAAqBf,oBAArB,CAA0CW,KAA1C,EACFK,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFO,CAEL,GAFK,CAAV,CAGD,CAPH,EAQD,CA1CkB,CAEjB,MAAKC,KAAL,CAAa,CACXN,aAAa,CAAE,KADJ,CAEXR,WAAW,CAAE,KAFF,CAAb,CAFiB,aAMlB,C,0FACkB,CACf,GAAMK,CAAAA,KAAK,CAAG,KAAKJ,QAAL,EAAd,CACI,KAAKH,QAAL,CAAc,CACZU,aAAa,CAACH,KAAK,CAACC,OAAN,CAAc,MAAd,EAAsB,CAAC,CADzB,CAAd,EAGP,C,uCAgCQ,CACP,mBACE,2BAAK,SAAS,CAAC,4CAAf,eACE,oBAAC,MAAD,EACE,EAAE,CAAC,gBADL,CAEE,SAAS,CAAC,yDAFZ,CAGE,OAAO,CAAE,KAAKQ,KAAL,CAAWN,aAHtB,CAIE,QAAQ,CAAE,KAAKJ,UAJjB,EADF,cAQE,oBAAC,OAAD,EACE,SAAS,CAAC,MADZ,CAEE,MAAM,CAAE,KAAKU,KAAL,CAAWd,WAFrB,CAGE,MAAM,CAAE,gBAHV,CAIE,MAAM,CAAE,KAAKH,MAJf,cARF,CADF,CAmBD,C,8BAjE2CP,S,SAAzBK,gB","sourcesContent":["import React, { Component } from \"react\";\r\nimport Switch from \"rc-switch\";\r\nimport \"rc-switch/assets/index.css\";\r\nimport { Tooltip } from \"reactstrap\";\r\n\r\nimport { defaultColor,themeColorStorageKey } from \"../../constants/defaultValues\";\r\n\r\nexport default class TopnavDarkSwitch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      switchChecked: false,\r\n      tooltipOpen: false\r\n    };\r\n  }\r\n  componentDidMount(){\r\n      const color = this.getColor();\r\n          this.setState({\r\n            switchChecked:color.indexOf('dark')>-1\r\n          })\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState(prevState => ({\r\n      tooltipOpen: !prevState.tooltipOpen\r\n    }));\r\n  };\r\n\r\n  getColor = () => {\r\n    return localStorage.getItem(themeColorStorageKey)\r\n      ? localStorage.getItem(themeColorStorageKey)\r\n      : defaultColor;\r\n  };\r\n  changeMode = () => {\r\n    let color = this.getColor();\r\n\r\n    if(color.indexOf('dark')>-1){\r\n        color= color.replace('dark','light')\r\n    }else if(color.indexOf('light')>-1){\r\n        color= color.replace('light','dark')\r\n    }\r\n\r\n    this.setState({\r\n        switchChecked:color.indexOf('dark')>-1\r\n      },()=>{\r\n          localStorage.setItem(themeColorStorageKey,color)\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n          }, 500);\r\n      })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"d-none d-md-inline-block align-middle mr-3\">\r\n        <Switch\r\n          id=\"Tooltip-Switch\"\r\n          className=\"custom-switch custom-switch-primary custom-switch-small\"\r\n          checked={this.state.switchChecked}\r\n          onChange={this.changeMode}\r\n        />\r\n\r\n        <Tooltip\r\n          placement=\"left\"\r\n          isOpen={this.state.tooltipOpen}\r\n          target={\"Tooltip-Switch\"}\r\n          toggle={this.toggle}\r\n        >\r\n          Dark Mode\r\n        </Tooltip>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}