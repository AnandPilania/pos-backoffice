{"ast":null,"code":"import _toConsumableArray from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{Row,Modal,ModalHeader,ModalBody,ModalFooter,Button}from\"reactstrap\";import axios from\"axios\";import{servicePath,tokenPrefix}from\"../../../constants/defaultValues\";import{getProduct,changeProductsState,deleteProducts}from\"../../../redux/actions\";import Pagination from\"../../../containers/products/Pagination\";import ListPageHeading from\"../../../containers/products/ListPageHeading\";import ThumbListView from\"../../../containers/products/ThumbListView\";import AddNewModal from\"../../../containers/products/AddNewModal\";import ImageListView from\"../../../containers/products/ImageListView\";import DataListView from\"../../../containers/products/DataListView\";import{connect}from\"react-redux\";import{injectIntl}from\"react-intl\";function collect(props){return{data:props.data};}var ProductListPages=/*#__PURE__*/function(_Component){_inherits(ProductListPages,_Component);var _super=_createSuper(ProductListPages);function ProductListPages(props){var _this;_classCallCheck(this,ProductListPages);_this=_super.call(this,props);_this.toggleModal=function(){_this.setState({modalOpen:!_this.state.modalOpen});};_this.toggleDeleteConfirmModal=function(){_this.setState({confirmModalOpen:!_this.state.confirmModalOpen});};_this.changeOrderBy=function(column){_this.setState({selectedOrderOption:_this.state.orderOptions.find(function(x){return x.column===column;})},function(){return _this.dataListRender();});};_this.changePageSize=function(size){_this.setState({selectedPageSize:size,currentPage:1},function(){return _this.dataListRender();});};_this.changeDisplayMode=function(mode){_this.setState({displayMode:mode});return false;};_this.onChangePage=function(page){_this.setState({currentPage:page},function(){return _this.dataListRender();});};_this.onSearchKey=function(e){if(e.key===\"Enter\"){_this.setState({search:e.target.value.toLowerCase()},function(){return _this.dataListRender();});}};_this.onCheckItem=function(event,id){if(event.target.tagName===\"A\"||event.target.parentElement&&event.target.parentElement.tagName===\"A\"){return true;}if(_this.state.lastChecked===null){_this.setState({lastChecked:id});}var selectedItems=_this.state.selectedItems;if(selectedItems.includes(id)){selectedItems=selectedItems.filter(function(x){return x!==id;});}else{selectedItems.push(id);}_this.setState({selectedItems});if(event.shiftKey){var _selectedItems;var items=_this.props.items;var start=_this.getIndex(id,items,\"id\");var end=_this.getIndex(_this.state.lastChecked,items,\"id\");items=items.slice(Math.min(start,end),Math.max(start,end)+1);(_selectedItems=selectedItems).push.apply(_selectedItems,_toConsumableArray(items.map(function(item){return item.id;})));selectedItems=Array.from(new Set(selectedItems));_this.setState({selectedItems});}document.activeElement.blur();};_this.handleChangeSelectAll=function(isToggle){if(_this.state.selectedItems.length>=_this.props.items.length){if(isToggle){_this.setState({selectedItems:[]});}}else{_this.setState({selectedItems:_this.props.items.map(function(x){return x.id;})});}document.activeElement.blur();return false;};_this.getCategoryList=function(){axios.get(\"\".concat(servicePath,\"/categories/all\"),{headers:{'X-API-TOKEN':tokenPrefix+_this.props.apiToken}}).then(function(res){return res.data['data'];}).then(function(data){_this.setState({categories:data['category_list']});});};_this.handleEditAction=function(){if(_this.state.selectedItems.length===1)_this.props.history.push(_this.props.match.url+'/edit/'+_this.state.selectedItems[0]);};_this.handleActivate=function(){if(_this.state.selectedItems.length>0)_this.props.changeProductsState(_this.state.selectedItems,1);};_this.handleInactivate=function(){if(_this.state.selectedItems.length>0)_this.props.changeProductsState(_this.state.selectedItems,0);};_this.handleDelete=function(){_this.toggleDeleteConfirmModal();};_this.handleDeleteSelectedProduct=function(productId){_this.setState({isLoading:false});_this.props.deleteProducts([productId]).then(function(res){return res?_this.dataListRender():{};});};_this.deleteProduct=function(){_this.toggleDeleteConfirmModal();_this.setState({isLoading:false});_this.props.deleteProducts(_this.state.selectedItems).then(function(res){return res?_this.dataListRender():{};});};_this.mouseTrap=require('mousetrap');_this.state={displayMode:\"thumblist\",selectedPageSize:8,orderOptions:[{column:\"\",label:\"Default\"},{column:\"name\",label:\"Product Name\"},{column:\"category\",label:\"Category\"},{column:\"status\",label:\"Status\"}],pageSizes:[8,12,24],categories:[],selectedOrderOption:{column:\"\",label:\"Default\"},dropdownSplitOpen:false,modalOpen:false,currentPage:1,search:\"\",selectedItems:[],lastChecked:null,isLoading:false,confirmModalOpen:false};return _this;}_createClass(ProductListPages,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.dataListRender();this.getCategoryList();this.mouseTrap.bind([\"ctrl+a\",\"command+a\"],function(){return _this2.handleChangeSelectAll(false);});this.mouseTrap.bind([\"ctrl+d\",\"command+d\"],function(){_this2.setState({selectedItems:[]});return false;});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mouseTrap.unbind(\"ctrl+a\");this.mouseTrap.unbind(\"command+a\");this.mouseTrap.unbind(\"ctrl+d\");this.mouseTrap.unbind(\"command+d\");}},{key:\"getIndex\",value:function getIndex(value,arr,prop){for(var i=0;i<arr.length;i++){if(arr[i][prop]===value){return i;}}return-1;}},{key:\"dataListRender\",value:function dataListRender(){var _this3=this;var _this$state=this.state,selectedPageSize=_this$state.selectedPageSize,currentPage=_this$state.currentPage,selectedOrderOption=_this$state.selectedOrderOption,search=_this$state.search;this.setState({isLoading:false});this.props.getProduct({selectedPageSize,currentPage,selectedOrderOption,search}).then(function(res){_this3.setState({selectedItems:[],isLoading:true});});}},{key:\"render\",value:function render(){var _this4=this;var _this$state2=this.state,currentPage=_this$state2.currentPage,displayMode=_this$state2.displayMode,selectedPageSize=_this$state2.selectedPageSize,selectedOrderOption=_this$state2.selectedOrderOption,selectedItems=_this$state2.selectedItems,orderOptions=_this$state2.orderOptions,pageSizes=_this$state2.pageSizes,modalOpen=_this$state2.modalOpen,categories=_this$state2.categories,confirmModalOpen=_this$state2.confirmModalOpen;var _this$props=this.props,items=_this$props.items,totalItemCount=_this$props.totalItem,totalPage=_this$props.totalPage,match=_this$props.match;var startIndex=(currentPage-1)*selectedPageSize;var endIndex=currentPage*selectedPageSize;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"disable-text-selection\"},/*#__PURE__*/React.createElement(ListPageHeading,{heading:\"menu.products\",displayModeEnable:1,displayMode:displayMode,changeDisplayMode:this.changeDisplayMode,handleChangeSelectAll:this.handleChangeSelectAll,changeOrderBy:this.changeOrderBy,changePageSize:this.changePageSize,selectedPageSize:selectedPageSize,totalItemCount:totalItemCount,selectedOrderOption:selectedOrderOption,match:match,startIndex:startIndex,endIndex:endIndex,selectedItems:selectedItems,itemsLength:items?items.length:0,onSearchKey:this.onSearchKey,orderOptions:orderOptions,pageSizes:pageSizes,toggleModal:this.toggleModal,handleEditAction:this.handleEditAction,handleActivate:this.handleActivate,handleInactivate:this.handleInactivate,handleDelete:this.handleDelete}),/*#__PURE__*/React.createElement(Modal,{isOpen:confirmModalOpen,toggle:this.toggleDeleteConfirmModal},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleDeleteConfirmModal},\"Delete Product\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure you want to delete selected product(s)?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{onClick:this.deleteProduct,size:\"lg\",color:\"primary\"},\"Yes\"),/*#__PURE__*/React.createElement(Button,{onClick:this.toggleDeleteConfirmModal,size:\"lg\",outline:true,color:\"secondary\"},\"Cancel\"))),/*#__PURE__*/React.createElement(AddNewModal,{toggleModal:this.toggleModal,modalOpen:modalOpen,categories:categories,history:this.props.history,match:this.props.match}),!this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"}):/*#__PURE__*/React.createElement(Row,null,items.map(function(product){if(_this4.state.displayMode===\"imagelist\"){return/*#__PURE__*/React.createElement(ImageListView,{key:product.id,product:product,isSelect:_this4.state.selectedItems.includes(product.id),collect:collect,onCheckItem:_this4.onCheckItem});}else if(_this4.state.displayMode===\"thumblist\"){return/*#__PURE__*/React.createElement(ThumbListView,{key:product.id,product:product,isSelect:_this4.state.selectedItems.includes(product.id),collect:collect,onCheckItem:_this4.onCheckItem,onDelete:_this4.handleDeleteSelectedProduct});}else{return/*#__PURE__*/React.createElement(DataListView,{key:product.id,product:product,isSelect:_this4.state.selectedItems.includes(product.id),onCheckItem:_this4.onCheckItem,collect:collect,onDelete:_this4.handleDeleteSelectedProduct});}}),\" \",/*#__PURE__*/React.createElement(Pagination,{currentPage:this.state.currentPage,totalPage:totalPage,onChangePage:function onChangePage(i){return _this4.onChangePage(i);}}))));}}]);return ProductListPages;}(Component);var mapStateToProps=function mapStateToProps(_ref){var authUser=_ref.authUser,products=_ref.products;var apiToken=authUser.token;var items=products.items,totalItem=products.totalItem,totalPage=products.totalPage;return{apiToken,items,totalItem,totalPage};};export default injectIntl(connect(mapStateToProps,{getProduct,changeProductsState,deleteProducts})(ProductListPages));","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/views/products/products/list.js"],"names":["React","Component","Fragment","Row","Modal","ModalHeader","ModalBody","ModalFooter","Button","axios","servicePath","tokenPrefix","getProduct","changeProductsState","deleteProducts","Pagination","ListPageHeading","ThumbListView","AddNewModal","ImageListView","DataListView","connect","injectIntl","collect","props","data","ProductListPages","toggleModal","setState","modalOpen","state","toggleDeleteConfirmModal","confirmModalOpen","changeOrderBy","column","selectedOrderOption","orderOptions","find","x","dataListRender","changePageSize","size","selectedPageSize","currentPage","changeDisplayMode","mode","displayMode","onChangePage","page","onSearchKey","e","key","search","target","value","toLowerCase","onCheckItem","event","id","tagName","parentElement","lastChecked","selectedItems","includes","filter","push","shiftKey","items","start","getIndex","end","slice","Math","min","max","map","item","Array","from","Set","document","activeElement","blur","handleChangeSelectAll","isToggle","length","getCategoryList","get","headers","apiToken","then","res","categories","handleEditAction","history","match","url","handleActivate","handleInactivate","handleDelete","handleDeleteSelectedProduct","productId","isLoading","deleteProduct","mouseTrap","require","label","pageSizes","dropdownSplitOpen","bind","unbind","arr","prop","i","totalItemCount","totalItem","totalPage","startIndex","endIndex","product","mapStateToProps","authUser","products","token"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport {Row, Modal, ModalHeader, ModalBody, ModalFooter, Button} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport {servicePath, tokenPrefix} from \"../../../constants/defaultValues\";\r\n\r\nimport {\r\n    getProduct,\r\n    changeProductsState,\r\n    deleteProducts\r\n} from \"../../../redux/actions\";\r\nimport Pagination from \"../../../containers/products/Pagination\";\r\nimport ListPageHeading from \"../../../containers/products/ListPageHeading\";\r\nimport ThumbListView from \"../../../containers/products/ThumbListView\";\r\nimport AddNewModal from \"../../../containers/products/AddNewModal\";\r\nimport ImageListView from \"../../../containers/products/ImageListView\";\r\nimport DataListView from \"../../../containers/products/DataListView\";\r\nimport {connect} from \"react-redux\";\r\nimport {injectIntl} from \"react-intl\";\r\n\r\nfunction collect(props) {\r\n    return {data: props.data};\r\n}\r\n\r\nclass ProductListPages extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.mouseTrap = require('mousetrap');\r\n        this.state = {\r\n            displayMode: \"thumblist\",\r\n\r\n            selectedPageSize: 8,\r\n            orderOptions: [\r\n                {column: \"\", label: \"Default\"},\r\n                {column: \"name\", label: \"Product Name\"},\r\n                {column: \"category\", label: \"Category\"},\r\n                {column: \"status\", label: \"Status\"}\r\n            ],\r\n            pageSizes: [8, 12, 24],\r\n\r\n            categories: [],\r\n\r\n            selectedOrderOption: {column: \"\", label: \"Default\"},\r\n            dropdownSplitOpen: false,\r\n            modalOpen: false,\r\n            currentPage: 1,\r\n            search: \"\",\r\n            selectedItems: [],\r\n            lastChecked: null,\r\n            isLoading: false,\r\n\r\n            confirmModalOpen: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.dataListRender();\r\n        this.getCategoryList();\r\n        this.mouseTrap.bind([\"ctrl+a\", \"command+a\"], () =>\r\n            this.handleChangeSelectAll(false)\r\n        );\r\n        this.mouseTrap.bind([\"ctrl+d\", \"command+d\"], () => {\r\n            this.setState({\r\n                selectedItems: []\r\n            });\r\n            return false;\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mouseTrap.unbind(\"ctrl+a\");\r\n        this.mouseTrap.unbind(\"command+a\");\r\n        this.mouseTrap.unbind(\"ctrl+d\");\r\n        this.mouseTrap.unbind(\"command+d\");\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n            modalOpen: !this.state.modalOpen\r\n        });\r\n    };\r\n\r\n    toggleDeleteConfirmModal = () => {\r\n        this.setState({\r\n            confirmModalOpen: !this.state.confirmModalOpen\r\n        });\r\n    };\r\n\r\n    changeOrderBy = column => {\r\n        this.setState(\r\n            {\r\n                selectedOrderOption: this.state.orderOptions.find(\r\n                    x => x.column === column\r\n                )\r\n            },\r\n            () => this.dataListRender()\r\n        );\r\n    };\r\n    changePageSize = size => {\r\n        this.setState(\r\n            {\r\n                selectedPageSize: size,\r\n                currentPage: 1\r\n            },\r\n            () => this.dataListRender()\r\n        );\r\n    };\r\n    changeDisplayMode = mode => {\r\n        this.setState({\r\n            displayMode: mode\r\n        });\r\n        return false;\r\n    };\r\n    onChangePage = page => {\r\n        this.setState(\r\n            {\r\n                currentPage: page\r\n            },\r\n            () => this.dataListRender()\r\n        );\r\n    };\r\n\r\n    onSearchKey = e => {\r\n        if (e.key === \"Enter\") {\r\n            this.setState(\r\n                {\r\n                    search: e.target.value.toLowerCase()\r\n                },\r\n                () => this.dataListRender()\r\n            );\r\n        }\r\n    };\r\n\r\n    onCheckItem = (event, id) => {\r\n        if (\r\n            event.target.tagName === \"A\" ||\r\n            (event.target.parentElement && event.target.parentElement.tagName === \"A\")\r\n        ) {\r\n            return true;\r\n        }\r\n        if (this.state.lastChecked === null) {\r\n            this.setState({\r\n                lastChecked: id\r\n            });\r\n        }\r\n\r\n        let selectedItems = this.state.selectedItems;\r\n        if (selectedItems.includes(id)) {\r\n            selectedItems = selectedItems.filter(x => x !== id);\r\n        } else {\r\n            selectedItems.push(id);\r\n        }\r\n        this.setState({\r\n            selectedItems\r\n        });\r\n\r\n        if (event.shiftKey) {\r\n            var items = this.props.items;\r\n            var start = this.getIndex(id, items, \"id\");\r\n            var end = this.getIndex(this.state.lastChecked, items, \"id\");\r\n            items = items.slice(Math.min(start, end), Math.max(start, end) + 1);\r\n            selectedItems.push(\r\n                ...items.map(item => {\r\n                    return item.id;\r\n                })\r\n            );\r\n            selectedItems = Array.from(new Set(selectedItems));\r\n            this.setState({\r\n                selectedItems\r\n            });\r\n        }\r\n        document.activeElement.blur();\r\n    };\r\n\r\n    getIndex(value, arr, prop) {\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (arr[i][prop] === value) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    handleChangeSelectAll = isToggle => {\r\n        if (this.state.selectedItems.length >= this.props.items.length) {\r\n            if (isToggle) {\r\n                this.setState({\r\n                    selectedItems: []\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                selectedItems: this.props.items.map(x => x.id)\r\n            });\r\n        }\r\n        document.activeElement.blur();\r\n        return false;\r\n    };\r\n\r\n\r\n    dataListRender() {\r\n        const {\r\n            selectedPageSize,\r\n            currentPage,\r\n            selectedOrderOption,\r\n            search\r\n        } = this.state;\r\n\r\n        this.setState({\r\n            isLoading: false\r\n        });\r\n\r\n        this.props.getProduct({\r\n            selectedPageSize,\r\n            currentPage,\r\n            selectedOrderOption,\r\n            search\r\n        }).then(res => {\r\n            this.setState({\r\n                selectedItems: [],\r\n                isLoading: true\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    getCategoryList = () => {\r\n        axios\r\n            .get(\r\n                `${servicePath}/categories/all`, {\r\n                    headers: {\r\n                        'X-API-TOKEN': tokenPrefix + this.props.apiToken\r\n                    }\r\n                }\r\n            )\r\n            .then(res => {\r\n                return res.data['data'];\r\n            })\r\n            .then(data => {\r\n                this.setState({\r\n                    categories: data['category_list']\r\n                });\r\n            });\r\n    }\r\n\r\n    handleEditAction = () => {\r\n        if (this.state.selectedItems.length === 1)\r\n            this.props.history.push(this.props.match.url + '/edit/' + this.state.selectedItems[0]);\r\n    }\r\n\r\n    handleActivate = () => {\r\n        if (this.state.selectedItems.length > 0)\r\n            this.props.changeProductsState(this.state.selectedItems, 1);\r\n    }\r\n\r\n    handleInactivate = () => {\r\n        if (this.state.selectedItems.length > 0)\r\n            this.props.changeProductsState(this.state.selectedItems, 0);\r\n    }\r\n\r\n    handleDelete = () => {\r\n        this.toggleDeleteConfirmModal();\r\n    }\r\n\r\n    handleDeleteSelectedProduct = (productId) => {\r\n        this.setState({\r\n            isLoading: false\r\n        });\r\n        this.props.deleteProducts([productId])\r\n            .then(res => res ? this.dataListRender() : {});\r\n    }\r\n\r\n    deleteProduct = () => {\r\n        this.toggleDeleteConfirmModal();\r\n        this.setState({\r\n            isLoading: false\r\n        });\r\n        this.props.deleteProducts(this.state.selectedItems)\r\n            .then(res => res ? this.dataListRender() : {});\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            currentPage,\r\n            displayMode,\r\n            selectedPageSize,\r\n            selectedOrderOption,\r\n            selectedItems,\r\n            orderOptions,\r\n            pageSizes,\r\n            modalOpen,\r\n            categories,\r\n            confirmModalOpen\r\n        } = this.state;\r\n        const {\r\n            items,\r\n            totalItem: totalItemCount,\r\n            totalPage,\r\n            match\r\n        } = this.props;\r\n        const startIndex = (currentPage - 1) * selectedPageSize;\r\n        const endIndex = currentPage * selectedPageSize;\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"disable-text-selection\">\r\n                    <ListPageHeading\r\n                        heading=\"menu.products\"\r\n                        displayModeEnable={1}\r\n                        displayMode={displayMode}\r\n                        changeDisplayMode={this.changeDisplayMode}\r\n                        handleChangeSelectAll={this.handleChangeSelectAll}\r\n                        changeOrderBy={this.changeOrderBy}\r\n                        changePageSize={this.changePageSize}\r\n                        selectedPageSize={selectedPageSize}\r\n                        totalItemCount={totalItemCount}\r\n                        selectedOrderOption={selectedOrderOption}\r\n                        match={match}\r\n                        startIndex={startIndex}\r\n                        endIndex={endIndex}\r\n                        selectedItems={selectedItems}\r\n                        itemsLength={items ? items.length : 0}\r\n                        onSearchKey={this.onSearchKey}\r\n                        orderOptions={orderOptions}\r\n                        pageSizes={pageSizes}\r\n                        toggleModal={this.toggleModal}\r\n                        handleEditAction={this.handleEditAction}\r\n                        handleActivate={this.handleActivate}\r\n                        handleInactivate={this.handleInactivate}\r\n                        handleDelete={this.handleDelete}\r\n                    />\r\n                    <Modal isOpen={confirmModalOpen} toggle={this.toggleDeleteConfirmModal}>\r\n                        <ModalHeader toggle={this.toggleDeleteConfirmModal}>Delete Product</ModalHeader>\r\n                        <ModalBody>\r\n                            Are you sure you want to delete selected product(s)?\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <Button onClick={this.deleteProduct} size=\"lg\" color=\"primary\">Yes</Button>\r\n                            <Button onClick={this.toggleDeleteConfirmModal} size=\"lg\" outline color=\"secondary\">Cancel</Button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n                    <AddNewModal\r\n                        toggleModal={this.toggleModal}\r\n                        modalOpen={modalOpen}\r\n                        categories={categories}\r\n                        history={this.props.history}\r\n                        match={this.props.match}\r\n                    />\r\n                    {\r\n                        !this.state.isLoading ? (\r\n                                <div className=\"loading\"/>\r\n                            ) :\r\n                            <Row>\r\n                                {items.map(product => {\r\n                                    if (this.state.displayMode === \"imagelist\") {\r\n                                        return (\r\n                                            <ImageListView\r\n                                                key={product.id}\r\n                                                product={product}\r\n                                                isSelect={this.state.selectedItems.includes(product.id)}\r\n                                                collect={collect}\r\n                                                onCheckItem={this.onCheckItem}\r\n                                            />\r\n                                        );\r\n                                    } else if (this.state.displayMode === \"thumblist\") {\r\n                                        return (\r\n                                            <ThumbListView\r\n                                                key={product.id}\r\n                                                product={product}\r\n                                                isSelect={this.state.selectedItems.includes(product.id)}\r\n                                                collect={collect}\r\n                                                onCheckItem={this.onCheckItem}\r\n                                                onDelete={this.handleDeleteSelectedProduct}\r\n                                            />\r\n                                        );\r\n                                    } else {\r\n                                        return (\r\n                                            <DataListView\r\n                                                key={product.id}\r\n                                                product={product}\r\n                                                isSelect={this.state.selectedItems.includes(product.id)}\r\n                                                onCheckItem={this.onCheckItem}\r\n                                                collect={collect}\r\n                                                onDelete={this.handleDeleteSelectedProduct}\r\n                                            />\r\n                                        );\r\n                                    }\r\n                                })}{\" \"}\r\n                                <Pagination\r\n                                    currentPage={this.state.currentPage}\r\n                                    totalPage={totalPage}\r\n                                    onChangePage={i => this.onChangePage(i)}\r\n                                />\r\n                            </Row>\r\n                    }\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({authUser, products}) => {\r\n    const {token: apiToken} = authUser;\r\n    const {items, totalItem, totalPage} = products;\r\n    return {apiToken, items, totalItem, totalPage};\r\n};\r\n\r\nexport default injectIntl(\r\n    connect(\r\n        mapStateToProps,\r\n        {\r\n            getProduct,\r\n            changeProductsState,\r\n            deleteProducts\r\n        }\r\n    )(ProductListPages)\r\n);\r\n\r\n"]},"metadata":{},"sourceType":"module"}