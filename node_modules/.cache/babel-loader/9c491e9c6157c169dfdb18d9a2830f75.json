{"ast":null,"code":"import _objectSpread from \"/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { LOGIN_USER, LOGIN_USER_SUCCESS, LOGIN_USER_ERROR, REGISTER_USER, REGISTER_USER_SUCCESS, REGISTER_USER_ERROR, LOGOUT_USER, FORGOT_PASSWORD, FORGOT_PASSWORD_SUCCESS, FORGOT_PASSWORD_ERROR, RESET_PASSWORD, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_ERROR, LOAD_USER_SUCCESS } from '../actions';\nvar INIT_STATE = {\n  token: localStorage.getItem('_fs_utk'),\n  user: JSON.parse(localStorage.getItem('user_info')),\n  forgotUserMail: '',\n  newPassword: '',\n  resetPasswordCode: '',\n  loading: false,\n  error: ''\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOAD_USER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        user: action.payload,\n        error: ''\n      });\n\n    case LOGIN_USER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case LOGIN_USER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: action.payload.token,\n        user: action.payload.user,\n        error: ''\n      });\n\n    case LOGIN_USER_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: '',\n        error: action.payload\n      });\n\n    case FORGOT_PASSWORD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case FORGOT_PASSWORD_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        forgotUserMail: action.payload,\n        error: ''\n      });\n\n    case FORGOT_PASSWORD_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        forgotUserMail: '',\n        error: action.payload.message\n      });\n\n    case RESET_PASSWORD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case RESET_PASSWORD_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        newPassword: action.payload,\n        resetPasswordCode: '',\n        error: ''\n      });\n\n    case RESET_PASSWORD_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        newPassword: '',\n        resetPasswordCode: '',\n        error: action.payload.message\n      });\n\n    case REGISTER_USER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: ''\n      });\n\n    case REGISTER_USER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: action.payload.uid,\n        error: ''\n      });\n\n    case REGISTER_USER_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        token: '',\n        error: action.payload.message\n      });\n\n    case LOGOUT_USER:\n      localStorage.removeItem('_fs_utk');\n      localStorage.removeItem('user_info');\n      localStorage.removeItem('menu_app_config');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: null,\n        error: '',\n        user: \"\",\n        loading: false\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n});","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/auth/reducer.js"],"names":["LOGIN_USER","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","REGISTER_USER","REGISTER_USER_SUCCESS","REGISTER_USER_ERROR","LOGOUT_USER","FORGOT_PASSWORD","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_ERROR","RESET_PASSWORD","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_ERROR","LOAD_USER_SUCCESS","INIT_STATE","token","localStorage","getItem","user","JSON","parse","forgotUserMail","newPassword","resetPasswordCode","loading","error","state","action","type","payload","message","uid","removeItem"],"mappings":";AAAA,SACIA,UADJ,EAEIC,kBAFJ,EAGIC,gBAHJ,EAIIC,aAJJ,EAKIC,qBALJ,EAMIC,mBANJ,EAOIC,WAPJ,EAQIC,eARJ,EASIC,uBATJ,EAUIC,qBAVJ,EAWIC,cAXJ,EAYIC,sBAZJ,EAaIC,oBAbJ,EAcIC,iBAdJ,QAeO,YAfP;AAiBA,IAAMC,UAAU,GAAG;AACfC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,SAArB,CADQ;AAEfC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAFS;AAGfI,EAAAA,cAAc,EAAE,EAHD;AAIfC,EAAAA,WAAW,EAAE,EAJE;AAKfC,EAAAA,iBAAiB,EAAE,EALJ;AAMfC,EAAAA,OAAO,EAAE,KANM;AAOfC,EAAAA,KAAK,EAAE;AAPQ,CAAnB;AAUA,gBAAe,YAAgC;AAAA,MAA/BC,KAA+B,uEAAvBZ,UAAuB;AAAA,MAAXa,MAAW;;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKf,iBAAL;AACI,6CAAYa,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCN,QAAAA,IAAI,EAAES,MAAM,CAACE,OAAhD;AAAyDJ,QAAAA,KAAK,EAAE;AAAhE;;AACJ,SAAKzB,UAAL;AACI,6CAAY0B,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAE;AAAzC;;AACJ,SAAKxB,kBAAL;AACI,6CAAYyB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCT,QAAAA,KAAK,EAAEY,MAAM,CAACE,OAAP,CAAed,KAAzD;AAAgEG,QAAAA,IAAI,EAAES,MAAM,CAACE,OAAP,CAAeX,IAArF;AAA2FO,QAAAA,KAAK,EAAE;AAAlG;;AACJ,SAAKvB,gBAAL;AACI,6CAAYwB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCT,QAAAA,KAAK,EAAE,EAA1C;AAA8CU,QAAAA,KAAK,EAAEE,MAAM,CAACE;AAA5D;;AACJ,SAAKtB,eAAL;AACI,6CAAYmB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAE;AAAzC;;AACJ,SAAKjB,uBAAL;AACI,6CAAYkB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCH,QAAAA,cAAc,EAAEM,MAAM,CAACE,OAA1D;AAAmEJ,QAAAA,KAAK,EAAE;AAA1E;;AACJ,SAAKhB,qBAAL;AACI,6CAAYiB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCH,QAAAA,cAAc,EAAE,EAAnD;AAAuDI,QAAAA,KAAK,EAAEE,MAAM,CAACE,OAAP,CAAeC;AAA7E;;AACJ,SAAKpB,cAAL;AACI,6CAAYgB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAE;AAAzC;;AACJ,SAAKd,sBAAL;AACI,6CAAYe,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCF,QAAAA,WAAW,EAAEK,MAAM,CAACE,OAAvD;AAAgEN,QAAAA,iBAAiB,EAAE,EAAnF;AAAuFE,QAAAA,KAAK,EAAE;AAA9F;;AACJ,SAAKb,oBAAL;AACI,6CAAYc,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCF,QAAAA,WAAW,EAAE,EAAhD;AAAoDC,QAAAA,iBAAiB,EAAE,EAAvE;AAA2EE,QAAAA,KAAK,EAAEE,MAAM,CAACE,OAAP,CAAeC;AAAjG;;AACJ,SAAK3B,aAAL;AACI,6CAAYuB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAE;AAAzC;;AACJ,SAAKrB,qBAAL;AACI,6CAAYsB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCT,QAAAA,KAAK,EAAEY,MAAM,CAACE,OAAP,CAAeE,GAAzD;AAA8DN,QAAAA,KAAK,EAAE;AAArE;;AACJ,SAAKpB,mBAAL;AACI,6CAAYqB,KAAZ;AAAmBF,QAAAA,OAAO,EAAE,KAA5B;AAAmCT,QAAAA,KAAK,EAAE,EAA1C;AAA8CU,QAAAA,KAAK,EAAEE,MAAM,CAACE,OAAP,CAAeC;AAApE;;AACJ,SAAKxB,WAAL;AACIU,MAAAA,YAAY,CAACgB,UAAb,CAAwB,SAAxB;AACAhB,MAAAA,YAAY,CAACgB,UAAb,CAAwB,WAAxB;AACAhB,MAAAA,YAAY,CAACgB,UAAb,CAAwB,iBAAxB;AACA,6CAAYN,KAAZ;AAAmBX,QAAAA,KAAK,EAAE,IAA1B;AAAgCU,QAAAA,KAAK,EAAE,EAAvC;AAA2CP,QAAAA,IAAI,EAAE,EAAjD;AAAqDM,QAAAA,OAAO,EAAE;AAA9D;;AACJ;AAAS,+BAAYE,KAAZ;AAhCb;AAkCH,CAnCD","sourcesContent":["import {\r\n    LOGIN_USER,\r\n    LOGIN_USER_SUCCESS,\r\n    LOGIN_USER_ERROR,\r\n    REGISTER_USER,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_ERROR,\r\n    LOGOUT_USER,\r\n    FORGOT_PASSWORD,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_ERROR,\r\n    RESET_PASSWORD,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_ERROR,\r\n    LOAD_USER_SUCCESS\r\n} from '../actions';\r\n\r\nconst INIT_STATE = {\r\n    token: localStorage.getItem('_fs_utk'),\r\n    user: JSON.parse(localStorage.getItem('user_info')),\r\n    forgotUserMail: '',\r\n    newPassword: '',\r\n    resetPasswordCode: '',\r\n    loading: false,\r\n    error: ''\r\n};\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n    switch (action.type) {\r\n        case LOAD_USER_SUCCESS:\r\n            return { ...state, loading: false, user: action.payload, error: '' };\r\n        case LOGIN_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case LOGIN_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.token, user: action.payload.user, error: '' };\r\n        case LOGIN_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload };\r\n        case FORGOT_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case FORGOT_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, forgotUserMail: action.payload, error: '' };\r\n        case FORGOT_PASSWORD_ERROR:\r\n            return { ...state, loading: false, forgotUserMail: '', error: action.payload.message };\r\n        case RESET_PASSWORD:\r\n            return { ...state, loading: true, error: '' };\r\n        case RESET_PASSWORD_SUCCESS:\r\n            return { ...state, loading: false, newPassword: action.payload, resetPasswordCode: '', error: '' };\r\n        case RESET_PASSWORD_ERROR:\r\n            return { ...state, loading: false, newPassword: '', resetPasswordCode: '', error: action.payload.message };\r\n        case REGISTER_USER:\r\n            return { ...state, loading: true, error: '' };\r\n        case REGISTER_USER_SUCCESS:\r\n            return { ...state, loading: false, token: action.payload.uid, error: '' };\r\n        case REGISTER_USER_ERROR:\r\n            return { ...state, loading: false, token: '', error: action.payload.message };\r\n        case LOGOUT_USER:\r\n            localStorage.removeItem('_fs_utk');\r\n            localStorage.removeItem('user_info');\r\n            localStorage.removeItem('menu_app_config');\r\n            return { ...state, token: null, error: '', user: \"\", loading: false };\r\n        default: return { ...state };\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}