{"ast":null,"code":"import axios from 'axios';\nimport { servicePath, tokenPrefix } from '../../constants/defaultValues';\nimport errorMessage from '../../constants/errorMessages';\nimport { UPDATE_MENU_APP_COLORS_REQUEST, UPDATE_MENU_APP_COLORS_SUCCESS, UPDATE_MENU_APP_COLORS_FAIL, UPDATE_MENU_APP_LOGO_REQUEST, UPDATE_MENU_APP_LOGO_SUCCESS, UPDATE_MENU_APP_LOGO_FAIL, LOGIN_USER, LOAD_USER_SUCCESS, logoutUser } from '../actions';\nexport var updateMenuAppColor = function updateMenuAppColor(user, history) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: LOGIN_USER,\n      payload: {\n        user,\n        history\n      }\n    });\n    axios.get(servicePath + \"/auth/user\", {\n      headers: {\n        'X-API-TOKEN': tokenPrefix + getState().token\n      }\n    }).then(function (response) {\n      if (response.status === 200 && response.data['message'] === \"\") {\n        var data = response.data['data'];\n        dispatch({\n          type: LOAD_USER_SUCCESS,\n          payload: data['user']\n        });\n      } else {\n        logoutUser();\n      }\n    }).catch(function (error) {\n      logoutUser();\n    });\n  };\n};","map":{"version":3,"sources":["/Volumes/DATA/project/20200412_POSbackoffice_django_react/project/POS-backoffice/frontend/src/redux/my-site/actions.js"],"names":["axios","servicePath","tokenPrefix","errorMessage","UPDATE_MENU_APP_COLORS_REQUEST","UPDATE_MENU_APP_COLORS_SUCCESS","UPDATE_MENU_APP_COLORS_FAIL","UPDATE_MENU_APP_LOGO_REQUEST","UPDATE_MENU_APP_LOGO_SUCCESS","UPDATE_MENU_APP_LOGO_FAIL","LOGIN_USER","LOAD_USER_SUCCESS","logoutUser","updateMenuAppColor","user","history","dispatch","getState","type","payload","get","headers","token","then","response","status","data","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,+BAAvC;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AAEA,SACIC,8BADJ,EAEIC,8BAFJ,EAGIC,2BAHJ,EAIIC,4BAJJ,EAKIC,4BALJ,EAMIC,yBANJ,EAM+BC,UAN/B,EAM2CC,iBAN3C,EAM8DC,UAN9D,QAOO,YAPP;AASA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAAOC,OAAP;AAAA,SAAmB,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAEzED,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAER,UADD;AAELS,MAAAA,OAAO,EAAE;AAAEL,QAAAA,IAAF;AAAQC,QAAAA;AAAR;AAFJ,KAAD,CAAR;AAKAf,IAAAA,KAAK,CAACoB,GAAN,CAAUnB,WAAW,GAAG,YAAxB,EAAsC;AAClCoB,MAAAA,OAAO,EAAE;AACL,uBAAenB,WAAW,GAAGe,QAAQ,GAAGK;AADnC;AADyB,KAAtC,EAIGC,IAJH,CAIQ,UAAAC,QAAQ,EAAI;AAEhB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACE,IAAT,CAAc,SAAd,MAA6B,EAA5D,EAAgE;AAC5D,YAAMA,IAAI,GAAGF,QAAQ,CAACE,IAAT,CAAc,MAAd,CAAb;AACAV,QAAAA,QAAQ,CAAC;AACLE,UAAAA,IAAI,EAAEP,iBADD;AAELQ,UAAAA,OAAO,EAAGO,IAAI,CAAC,MAAD;AAFT,SAAD,CAAR;AAIH,OAND,MAMO;AACHd,QAAAA,UAAU;AACb;AAEJ,KAhBD,EAgBGe,KAhBH,CAgBS,UAAAC,KAAK,EAAI;AACdhB,MAAAA,UAAU;AACb,KAlBD;AAmBH,GA1BiC;AAAA,CAA3B","sourcesContent":["import axios from 'axios';\nimport {servicePath, tokenPrefix} from '../../constants/defaultValues';\nimport errorMessage from '../../constants/errorMessages';\n\nimport {\n    UPDATE_MENU_APP_COLORS_REQUEST,\n    UPDATE_MENU_APP_COLORS_SUCCESS,\n    UPDATE_MENU_APP_COLORS_FAIL,\n    UPDATE_MENU_APP_LOGO_REQUEST,\n    UPDATE_MENU_APP_LOGO_SUCCESS,\n    UPDATE_MENU_APP_LOGO_FAIL, LOGIN_USER, LOAD_USER_SUCCESS, logoutUser\n} from '../actions';\n\nexport const updateMenuAppColor = (user, history) => (dispatch, getState) => {\n\n    dispatch({\n        type: LOGIN_USER,\n        payload: { user, history }\n    });\n\n    axios.get(servicePath + \"/auth/user\", {\n        headers: {\n            'X-API-TOKEN': tokenPrefix + getState().token\n        }\n    }).then(response => {\n\n        if (response.status === 200 && response.data['message'] === \"\") {\n            const data = response.data['data'];\n            dispatch({\n                type: LOAD_USER_SUCCESS,\n                payload:  data['user']\n            });\n        } else {\n            logoutUser();\n        }\n\n    }).catch(error => {\n        logoutUser();\n    });\n};"]},"metadata":{},"sourceType":"module"}